(function(N,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(N=typeof globalThis<"u"?globalThis:N||self,e(N["fast-dataview-ui"]=N["fast-dataview-ui"]||{},N.Vue))})(this,function(N,e){"use strict";function ke(t,n){const l=window.MutationObserver,r=new l(n);return r.observe(t,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),r}var oe;const ie=typeof window<"u",we=t=>typeof t=="string",le=()=>{};ie&&((oe=window==null?void 0:window.navigator)!=null&&oe.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Q(t){return typeof t=="function"?t():e.unref(t)}function $e(t,n){function l(...r){return new Promise((f,d)=>{Promise.resolve(t(()=>n.apply(this,r),{fn:n,thisArg:this,args:r})).then(f).catch(d)})}return l}function be(t,n={}){let l,r,f=le;const d=a=>{clearTimeout(a),f(),f=le};return a=>{const i=Q(t),s=Q(n.maxWait);return l&&d(l),i<=0||s!==void 0&&s<=0?(r&&(d(r),r=null),Promise.resolve(a())):new Promise((c,g)=>{f=n.rejectOnCancel?g:c,s&&!r&&(r=setTimeout(()=>{l&&d(l),r=null,c(a())},s)),l=setTimeout(()=>{r&&d(r),r=null,c(a())},i)})}}function xe(t){return t}function Se(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function Be(t,n=200,l={}){return $e(be(n,l),t)}function Ce(t){var n;const l=Q(t);return(n=l==null?void 0:l.$el)!=null?n:l}const Ee=ie?window:void 0;function Ne(...t){let n,l,r,f;if(we(t[0])||Array.isArray(t[0])?([l,r,f]=t,n=Ee):[n,l,r,f]=t,!n)return le;Array.isArray(l)||(l=[l]),Array.isArray(r)||(r=[r]);const d=[],o=()=>{d.forEach(c=>c()),d.length=0},a=(c,g,m,y)=>(c.addEventListener(g,m,y),()=>c.removeEventListener(g,m,y)),i=e.watch(()=>[Ce(n),Q(f)],([c,g])=>{o(),c&&d.push(...l.flatMap(m=>r.map(y=>a(c,m,y,g))))},{immediate:!0,flush:"post"}),s=()=>{i(),o()};return Se(s),s}const ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se="__vueuse_ssr_handlers__";ae[se]=ae[se]||{};var ce;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(ce||(ce={}));var Ve=Object.defineProperty,de=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,ue=(t,n,l)=>n in t?Ve(t,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[n]=l,Le=(t,n)=>{for(var l in n||(n={}))Pe.call(n,l)&&ue(t,l,n[l]);if(de)for(var l of de(n))Ie.call(n,l)&&ue(t,l,n[l]);return t};Le({linear:xe},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const F=(t,n,l,r)=>{const f=e.ref(0),d=e.ref(0),o=e.ref(0),a=e.ref(0);let i,s=null,c=null;const g=(h=!0)=>new Promise(_=>{e.nextTick(()=>{c=t.value,f.value=t.value?t.value.clientWidth:0,d.value=t.value?t.value.clientHeight:0,o.value=c?c.getBoundingClientRect().width:0,a.value=c?c.getBoundingClientRect().height:0,t.value?(!f.value||!d.value)&&console.warn("Component width or height is 0px"):console.warn("Failed to get dom node"),typeof n=="function"&&h&&n(),_(!0)})}),m=()=>{s=ke(c,i),Ne(window,"resize",i)},y=()=>{s&&(s.disconnect(),s.takeRecords(),s=null)},$=async()=>{await g(!1),i=Be(g,200),m(),typeof l=="function"&&l()};return e.onMounted(()=>{$()}),e.onUnmounted(()=>{y()}),{width:f,height:d,afterWidth:o,afterHeight:a,initWH:g}},fe={color:{type:Array,default:()=>[]},backgroundColor:{type:String,default:"transparent"},strokeWidth:{type:Number},title:{type:String,default:""},duration:{type:Number,default:2},strokeDasharray:{type:String,default:"300 300"}},T=Object.assign,M=t=>Array.isArray(t)&&t.length,q=t=>Array.isArray(t)&&t||[],L=t=>t>=0?t:0,De=(t,n,l="reverse")=>t.sort(Te(n,l)),Te=(t,n="reverse")=>function(l,r){return l[t]<r[t]?n==="normal"?-1:1:l[t]>r[t]?n==="normal"?1:-1:0},z=(t,n=new WeakMap)=>{if(t===null)return t;if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if(typeof t!="object")return t;if(n.get(t))return n.get(t);let l=new t.constructor;n.set(t,l);for(let r in t)t.hasOwnProperty(r)&&(l[r]=z(t[r],n));return l},he=(t,n)=>{const l=Math.abs(t[0]-n[0]),r=Math.abs(t[1]-n[1]);return Math.sqrt(l*l+r*r)},H=e.defineComponent({name:"FBorderBox1",props:fe,setup(t,{slots:n}){const l=e.ref(null),r=["rgba(46, 96, 153,0.85)","rgba(71, 196, 245,0.85)"];let f=e.computed(()=>M(t.color)?T(r,t.color):r);const{width:d,height:o,initWH:a}=F(l);return{width:d,height:o,initWH:a,borderBox1:l,defaultColor:r,realColor:f}},render(){const{$slots:t,width:n,height:l,backgroundColor:r,strokeWidth:f,realColor:d,title:o}=this,a=20;let i=f||2,s=L(n-i-2),c=L(l-i-2);return e.createVNode("div",{ref:"borderBox1",class:"f-border-box-1"},[e.createVNode("svg",{class:"f-svg-container",width:s,height:c},[e.createVNode("polygon",{fill:r,stroke:d[0],"stroke-width":i,points:`
            ${a} ${i}, ${s-a} ${i}, ${s-i} ${a}, ${s-i} ${c-a}, ${s-a} ${c},
            ${a} ${c}, ${i} ${c-a}, ${i} ${a}
          `},null),e.createVNode("polyline",{stroke:d[1],"stroke-width":i+1,points:`
            ${a-8} 0,0 ${a-8}
          `},null),e.createVNode("polyline",{stroke:d[1],"stroke-width":i+1,points:`
            ${s} ${c-a+8}, ${s-a+8+i} ${c}
          `},null),e.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":i+2,points:`
            ${i} ${a+15}, ${i} ${a}, ${a} ${i} , ${a+15} ${i}
          `},null),e.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":i+2,points:`
           ${a+15} ${c}, ${a}  ${c}, ${i} ${c-a}, ${i} ${c-a-15}
          `},null),e.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":i+2,points:`
           ${s-a-15} ${i}, ${s-a} ${i}, ${s-i} ${a}, ${s-i} ${a+15}
          `},null),e.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":i+2,points:`
          ${s-a-15} ${c}, ${s-a} ${c}, ${s-i} ${c-a}, ${s-i} ${c-a-15}
          `},null),o?e.createVNode("polygon",{fill:"rgba(33, 173, 238,0.1)",points:`
            ${a} ${i}, ${s-a} ${i}, ${s-i} ${a}, ${s-i} ${a+15}, ${i} ${a+15},
            ${i} ${a}
          `},null):null,o?e.createVNode("text",{x:"30",y:"25","font-size":"16","font-weight":"bold",fill:"#279fc7"},[o]):null]),e.createVNode("div",{class:"f-border-box-content"},[e.renderSlot(t,"default")])])}});H.install=function(t){t.component(H.name,H)};const ze={title:"border-01 边框",name:"border01",category:"边框",status:"100%",install(t){t.use(H)}},W=e.defineComponent({name:"FBorderBox2",props:fe,setup(t,{slots:n}){const l=e.ref(null),r=["white"];let f=e.computed(()=>M(t.color)?T(r,t.color):r);const{width:d,height:o,initWH:a}=F(l);return{width:d,height:o,initWH:a,borderBox2:l,defaultColor:r,realColor:f}},render(){const{$slots:t,width:n,height:l,backgroundColor:r,strokeWidth:f,realColor:d,duration:o,strokeDasharray:a}=this;let i=f||3,s=L(i),c=L(i),g=L(n-i),m=L(i),y=L(n-i),$=L(l-i),h=L(i),_=L(l-i);return e.createVNode("div",{ref:"borderBox2",class:"f-border-box-2"},[e.createVNode("svg",{class:"f-svg-container",width:n,height:l},[e.createVNode("path",{class:"f-container-path",style:{"--duration":`${o}s`,"--border-stroke-dasharray":a},stroke:d[0],"stroke-width":i,fill:r,d:`M ${s} ${c}, L ${g} ${m}, L ${y} ${$}, L ${h} ${_}, Z`},null)]),e.createVNode("div",{class:"f-border-box-content"},[e.renderSlot(t,"default")])])}});W.install=function(t){t.component(W.name,W)};const Re={title:"border-02 边框",name:"border02",category:"边框",status:"100%",install(t){t.use(W)}},X=e.defineComponent({name:"FLoading1",props:{width:{type:String,default:"100px"},height:{type:String,default:"100px"},color:{type:Array,default:()=>[]},text:{type:String,default:""},duration:{type:Number,default:2}},setup(t,{slots:n}){const l=e.ref(null),r=["#4f29f0","#c3c8de","#414856"];let f=e.computed(()=>M(t.color)?T(r,t.color):r);const{width:d,height:o,initWH:a}=F(l);return{width:d,height:o,initWH:a,loading1:l,defaultColor:r,realColor:f}},render(){const{$slots:t,realColor:n,text:l,duration:r}=this;return e.createVNode("div",{ref:"loading1",class:"f-loading-1",style:{"--front-color":n[0],"--back-color":n[1],"--text-color":n[2],"--duration":`${r}s`}},[e.createVNode("svg",{class:"f-circle-outer",viewBox:"0 0 86 86"},[e.createVNode("circle",{class:"f-back",cx:"43",cy:"43",r:"40"},null),e.createVNode("circle",{class:"f-front",cx:"43",cy:"43",r:"40"},null)]),e.createVNode("svg",{class:"f-circle-middle",viewBox:"0 0 60 60"},[e.createVNode("circle",{class:"f-back",cx:"30",cy:"30",r:"27"},null),e.createVNode("circle",{class:"f-front",cx:"30",cy:"30",r:"27"},null)]),e.createVNode("svg",{class:"f-circle-inner",viewBox:"0 0 34 34"},[e.createVNode("circle",{class:"f-back",cx:"17",cy:"17",r:"14"},null),e.createVNode("circle",{class:"f-front",cx:"17",cy:"17",r:"14"},null)]),l?e.createVNode("div",{class:"f-loading-text","data-text":l},null):null])}});X.install=function(t){t.component(X.name,X)};const Ae={title:"loading-01 加载",name:"loading01",category:"加载",status:"100%",install(t){t.use(X)}},Oe=e.defineComponent({name:"FLoading2",props:{width:{type:String,default:"100px"},height:{type:String,default:"100px"},color:{type:Array,default:()=>[]},text:{type:String,default:""},duration:{type:Number,default:.8}},setup(t,{slots:n}){const l=["#d1d5db","#3b82f6","#3b82f6"];let r=e.computed(()=>M(t.color)?T(l,t.color):l);return{getLoadingStyle:e.computed(()=>({width:t.width,height:t.height,color:r.value[2],"--border-color":r.value[0],"--border-top-color":r.value[1],"--duration":`${t.duration}s`}))}}}),ge=(t,n)=>{const l=t.__vccOpts||t;for(const[r,f]of n)l[r]=f;return l},Fe=e.createElementVNode("div",{class:"f-loading-round"},null,-1),Me={class:"loading-text"};function He(t,n,l,r,f,d){return e.openBlock(),e.createElementBlock("div",{class:"f-loading-2",style:e.normalizeStyle(t.getLoadingStyle)},[Fe,e.createElementVNode("div",Me,[e.renderSlot(t.$slots,"default",{},()=>[e.createElementVNode("div",null,e.toDisplayString(t.text),1)])])],4)}const Y=ge(Oe,[["render",He]]);Y.install=function(t){t.component(Y.name,Y)};const We={title:"loading-02 加载",name:"loading02",category:"加载",status:"100%",install(t){t.use(Y)}},Xe={width:{type:Number,default:1920},height:{type:Number,default:1080},onAfterResize:{type:Function,default:()=>{}}},Ye={class:"f-screen-container"},j=e.defineComponent({__name:"index",props:Xe,setup(t){const n=t,l=e.ref(null),r=e.reactive({width:0,height:0,screenWidth:0,screenHeight:0,scaleX:1,scaleY:1,isReady:!1});let f=e.ref(1),d=e.ref(1);e.provide("scaleX",f),e.provide("scaleY",d);const o=()=>{n.width&&n.height?(r.width=n.width,r.height=n.height):(r.width=l.value.clientWidth,r.height=l.value.clientHeight);const{width:g,height:m}=window.screen;r.screenWidth=g,r.screenHeight=m},a=()=>{r.width&&r.height?(l.value.style.width=`${r.width}px`,l.value.style.height=`${r.height}px`):(l.value.style.width=`${r.screenWidth}px`,l.value.style.height=`${r.screenHeight}px`)},i=()=>{const g=document.body.clientWidth,m=document.body.clientHeight,y=r.width||r.screenWidth,$=r.height||r.screenHeight,h=g/+y,_=m/+$;f.value=h,d.value=_,l.value.style.transform=`scale(${h}, ${_})`};return F(l,()=>{i()},()=>{o(),a(),i(),n.onAfterResize(),r.isReady=!0}),(g,m)=>(e.openBlock(),e.createElementBlock("div",Ye,[e.createElementVNode("div",{class:"f-screen-inner",ref_key:"screenContainer",ref:l},[r.isReady?e.renderSlot(g.$slots,"default",{key:0}):e.createCommentVNode("v-if",!0),e.createCommentVNode(" <slot></slot> ")],512)]))}}),jt="";j.install=function(t){t.component("FScreenContainer",j)};const Ue={title:"container 容器",name:"container",category:"容器",status:"100%",install(t){t.use(j)}},Ge={width:{type:Number,default:400},height:{type:Number,default:400},radius:{type:Number,default:1.2},strength:{type:Number,default:2},src:{type:String}},Qe=1/30;class re{constructor(n,l,r,f,d,o,a){this.x=Math.random()*n>>0,this.y=Math.random()*l>>0,this.targetX=r,this.targetY=f,this.time=d,this.radius=o,this.colors=a,this.opacity=0}draw(n){n.fillStyle=`${this.colors}`,n.fillRect(this.x,this.y,this.radius*2,this.radius*2),n.fill()}update(n,l,r,f){if(this.distanceX=this.targetX-this.x,this.distanceY=this.targetY-this.y,this.velocityX=this.distanceX/this.time,this.velocityY=this.distanceY/this.time,r&&f){let d=r-this.x,o=f-this.y,a=Math.sqrt(d**2+o**2),i=n/a;i=i>7?7:i;let s=Math.atan2(o,d),c=Math.cos(s),g=Math.sin(s),m=c*i*-l,y=g*i*-l;this.velocityX+=m,this.velocityY+=y}this.x+=this.velocityX,this.y+=this.velocityY,this.opacity<1&&(this.opacity+=Qe)}change(n,l,r){this.targetX=n,this.targetY=l,this.colors=r}}const me=30;class qe{constructor(n,l,r){this.radius=l,this.strength=r,this.canvasEle=n,this.ctx=n.getContext("2d"),this.width=n.width,this.height=n.height,this.particleArr=[],this.canvasEle.onmouseleave=()=>{this.mouseX=0,this.mouseY=0}}changeImg(n){if(this.particleArr.length){let l=n.particleData,r=l.length,f=this.particleArr,d=f.length;for(let a=0;a<r;a++){const{targetX:i,targetY:s,colors:c}=l[a];f[a]?f[a].change(i,s,c):f[a]=new re(this.width,this.height,i,s,me,this.radius,c)}r<d&&(this.particleArr=f.splice(0,r)),f=this.particleArr;let o=f.length;for(;o;){let a=~~(Math.random()*o--),i=f[a],{targetX:s,targetY:c,colors:g}=i;i.targetX=f[o].targetX,i.targetY=f[o].targetY,i.colors=f[o].colors,f[o].targetX=s,f[o].targetY=c,f[o].colors=g}}else this.particleArr=n.particleData.map(l=>new re(this.width,this.height,l.targetX,l.targetY,me,this.radius,l.colors))}drawCanvas(){this.ctx.clearRect(0,0,this.width,this.height),this.particleArr.forEach(n=>{n.update(30,this.strength,this.mouseX,this.mouseY),n.draw(this.ctx)}),this.requestID=window.requestAnimationFrame(()=>this.drawCanvas())}}const je=30;class pe{constructor(n,l,r,f){this.src=n,this.width=l,this.height=r,this.particleData=[],this.radius=f}createParticleData(n=this.src){return new Promise((l,r)=>{let f=new Image;f.crossOrigin="",f.src=decodeURI(new URL(n,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("fast-dataview-ui.umd.js",document.baseURI).href).href),f.onload=()=>{const d=document.createElement("canvas"),o=d.getContext("2d"),a=this.width,i=this.height;d.width=a,d.height=i,o==null||o.drawImage(f,0,0,a,i);const s=o==null?void 0:o.getImageData(0,0,a,i).data;o==null||o.clearRect(0,0,this.width,this.height);for(let c=0;c<i;c+=5)for(let g=0;g<a;g+=5){const m=(g+c*a)*4,y=s[m+3];if(y==0)continue;const $=s[m],h=s[m+1],_=s[m+2];if($+h+_+y){const C=new re(this.width,this.height,g,c,je,this.radius,`rgba(${$},${h},${_},${y})`);this.particleData.push(C)}}l(this.particleData)},f.onerror=()=>{r("图片转化成粒子失败")}})}}const Ke=["width","height"],K=e.defineComponent({__name:"index",props:Ge,setup(t,{expose:n}){const l=t;let r=e.inject("scaleX",e.ref(1)),f=e.inject("scaleY",e.ref(1));const d=e.ref(null),o=e.ref(null);let a=e.ref(),i=e.ref();const s=async g=>{i.value=new pe(g,l.width,l.height,l.radius),await i.value.createParticleData(),a.value.changeImg(i.value)},c=async()=>{i.value=new pe(l.src,l.width,l.height,l.radius),await i.value.createParticleData(),d.value&&(o.value=d.value.getContext("2d"),a.value=new qe(d.value,l.radius,l.strength),d.value.addEventListener("mousemove",g=>{const{left:m,top:y}=d.value.getBoundingClientRect(),{clientX:$,clientY:h}=g;a.value.mouseX=($-m)*(1/r.value),a.value.mouseY=(h-y)*(1/f.value)}),a.value.drawCanvas(),a.value.changeImg(i.value))};return e.onMounted(()=>{c()}),n({toggleImg:s}),(g,m)=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("canvas",{ref_key:"canvasRef",ref:d,width:l.width,height:l.height},null,8,Ke)]))}});K.install=function(t){t.component("FDynamicParticle",K)};const Ze={title:"particle 粒子动效",name:"particle",category:"canvas动效",status:"100%",install(t){t.use(K)}};function ye(t){return{handleToggle:r=>{t.emit("handle-toggle",r)},handleCellClick:(r,f,d,o,a)=>{t.emit("cell-click",f,d,o,a,r)}}}function Je(t,n,l){const{handleToggle:r}=ye(l),f=m=>{let y=q(m);return z(y)},d=()=>{t.toggleCount+=1,t.toggleCount>=n.emitCondition&&r(n.name)},o=async(m,y,$)=>{let h=$;y.map(_=>_._index_=++h),t.currData.length?m===n.pageSize?t.currData=[...y]:(t.currData.push(...y),t.currData.splice(0,m)):t.currData.push(...y)},a=async()=>{if(t.tableData.length){c(!1,!0),t.isEmpty=!1;let m;n.mode==="single"?m=n.togglePage:m=n.pageSize;let y,$;t.currPage===1?(y=0,$=n.pageSize):(y=m*(t.currPage-2)+n.pageSize,$=m*(t.currPage-1)+n.pageSize);let h=t.tableData.slice(y,$);h.length?t.currPage===1&&t.toggleCount===0?o(n.pageSize,h,y):t.currPage===1?await o(n.pageSize,h,y):await o(m,h,y):(t.currPage=1,d(),a()),i()}else c(),t.currPage=1,t.currData=[],t.isEmpty=!0,s()},i=()=>{t.intervalId===null&&!t.isStopToggle&&(t.intervalId=setInterval(()=>{t.currPage+=1,a()},n.toggleDur))},s=()=>{t.setTimeoutId===null&&(t.setTimeoutId=setTimeout(()=>{r(n.name)},n.emptyEmitDur))},c=(m=!0,y=!0)=>{t.intervalId&&m&&(clearInterval(t.intervalId),t.intervalId=null),t.setTimeoutId&&y&&(clearTimeout(t.setTimeoutId),t.setTimeoutId=null)};return{deepCloneArr:f,setCurrData:a,setPageInterval:i,setEmptyTimeout:s,clearTimer:c,setPage:(m=1)=>{c(),t.currPage=m;let y;n.mode==="single"?y=n.togglePage:y=n.pageSize;let $=y*(t.currPage-1),h=y*(t.currPage-1)+n.pageSize,_=t.tableData.slice($,h);_.length?(o(n.pageSize,_,$),i()):a(),t.tableData.length||s()}}}function ve(t,n){const l=e.computed(()=>function(s,c){const g=["f-scroll-table__row"];return n.stripe&&c%2===1&&g.push("f-scroll-table_row--striped"),g}),r=e.computed(()=>{const s=["cell"];return n.wrap?s.push("cell--wrap"):s.push("cell--nowrap"),s}),f=e.computed(()=>function(s){let c=s.reduce((g,m)=>g+=m.width,0);return{width:`${c}px`,"max-width":`${c}px`}}),d=e.computed(()=>({height:n.maxHeight||"auto","max-height":n.maxHeight||"auto","--page-animate-dur":`${n.pageAnimateDur}ms`})),o=e.computed(()=>function(s){return{}}),a=e.computed(()=>function(s){return{width:`${s.width}px`,"max-width":`${s.width}px`,"text-align":s.align||n.align||"start"}}),i=e.computed(()=>function(s,c,g,m){return typeof n.cellStyle=="function"?n.cellStyle.call(null,{rowIndex:g,columnIndex:m,row:s,column:c}):n.cellStyle||{}});return{getRowClass:l,getCellClass:r,getTableStyle:f,getBodyStyle:d,getRowStyle:o,getExtraCellStyle:a,getCellStyle:i}}const U=e.defineComponent({__name:"index",props:{type:{default:"default"},direction:{default:"left"},speed:{default:60},mode:{default:"infinite"}},setup(t){const n=t,l=e.ref(),r=e.ref(),f=e.computed(()=>{var m,y,$,h;let d=((m=l.value)==null?void 0:m.offsetWidth)||0,o=((y=l.value)==null?void 0:y.offsetHeight)||0,a=(($=r.value)==null?void 0:$.offsetWidth)||0,i=((h=r.value)==null?void 0:h.offsetHeight)||0;if(n.mode==="overflow"&&(["up","down"].includes(n.direction)&&i<o||["left","right"].includes(n.direction)&&a<d))return{"--text-scroll-width":`${d}px`,"--text-scroll-height":`${o}px`,animation:""};let s,c,g;return["up","down"].includes(n.direction)&&(s=o+i,c=s/n.speed||0,g=`up-scroll linear ${c}s infinite ${n.direction==="down"?"reverse":""}`),["left","right"].includes(n.direction)&&(s=d+a,c=s/n.speed||0,g=`left-scroll linear ${c}s infinite ${n.direction==="right"?"reverse":""}`),{"--text-scroll-width":`${d}px`,"--text-scroll-height":`${o}px`,animation:g}});return(d,o)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"scrollText",ref:l,class:e.normalizeClass(["f-scroll-text",`f-scroll-text--${n.type}`])},[e.createElementVNode("div",{ref_key:"textContent",ref:r,class:"text-content",style:e.normalizeStyle(e.unref(f))},[e.renderSlot(d.$slots,"default")],4)],2))}});U.install=function(t){t.component("FScrollText",U)};const et={title:"scrollText 轮播文本",name:"scrollText",category:"数据展示",status:"100%",install(t){t.use(U)}},tt={class:"f-scroll-table__head"},nt=["onClick"],lt={key:1},Z=e.defineComponent({__name:"index",props:{name:{type:String,default:""},data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},border:{type:Boolean,default:!0},stripe:{type:Boolean,default:!0},wrap:{type:Boolean,default:!0},align:{type:String,default:"center"},cellStyle:{type:[Object,Function],default:()=>{}},maxHeight:{type:String,default:"auto"},mode:{type:String,default:"single"},pageSize:{type:Number,default:5},togglePage:{type:Number,default:1},toggleDur:{type:Number,default:5*1e3},emptyEmitDur:{type:Number,default:5*1e3},emitCondition:{type:Number,default:2},pageAnimateDur:{type:Number,default:300},mouseEvent:{type:Boolean,default:!0}},emits:["handle-toggle","cell-click"],setup(t,{expose:n}){const l=t,r=e.reactive({tableData:[],currData:[],pageData:[],currPage:1,toggleCount:0,intervalId:null,setTimeoutId:null,isStopToggle:!1,isEmpty:!1}),f=e.getCurrentInstance(),d=e.ref(),{deepCloneArr:o,setCurrData:a,setPageInterval:i,setEmptyTimeout:s,clearTimer:c,setPage:g}=Je(r,l,f),{handleCellClick:m}=ye(f),{getRowClass:y,getCellClass:$,getTableStyle:h,getBodyStyle:_,getRowStyle:x,getExtraCellStyle:C,getCellStyle:p}=ve(r,l),E=b=>{b.style.opacity="0",b.style.gridTemplateRows="0fr"},u=(b,P)=>{b.offsetWidth,b.style.opacity="1",b.style.gridTemplateRows="1fr",P()},w=async b=>{b.style.opacity="1"},k=async(b,P)=>{b.style.opacity="0",b.style.gridTemplateRows="0fr",await new Promise(S=>{setTimeout(()=>{b.remove(),S(!0)},l.pageAnimateDur)}),P()};return e.watch(()=>l.data,b=>{r.tableData=o(b),a()},{immediate:!0,deep:!0}),e.onMounted(()=>{l.mouseEvent&&(d.value.addEventListener("mouseenter",()=>{c(!0,!0),r.isStopToggle=!0}),d.value.addEventListener("mouseleave",()=>{r.isStopToggle=!1,r.tableData.length?i():s()}))}),e.onBeforeUnmount(()=>{c()}),n({setPage:g}),(b,P)=>(e.openBlock(),e.createElementBlock("div",{ref:"scrollTable",class:e.normalizeClass(["f-scroll-table",{"is-border":l.border}]),style:e.normalizeStyle(e.unref(h)(l.columns))},[e.createElementVNode("div",tt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.columns,(S,V)=>(e.openBlock(),e.createElementBlock("div",{class:"f-scroll-table__cell",style:e.normalizeStyle(e.unref(C)(S)),key:V},e.toDisplayString(S.label),5))),128))]),e.createElementVNode("div",{ref_key:"scrollTable__body",ref:d,class:"f-scroll-table__content is-hidden-scrollbar",style:e.normalizeStyle(e.unref(_))},[e.createVNode(e.TransitionGroup,{tag:"div",css:!1,onBeforeEnter:E,onEnter:u,onBeforeLeave:w,onLeave:k},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.currData,(S,V)=>(e.openBlock(),e.createElementBlock("div",{class:"f-scroll-table__row-wrap",key:S},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(y)(S,V))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.columns,(B,D)=>(e.openBlock(),e.createElementBlock("div",{class:"f-scroll-table__cell",style:e.normalizeStyle([e.unref(C)(B),e.unref(p)(S,B.type==="index"?"_index_":B.prop,V,D)]),key:`${S[B.prop]}${D}`,onClick:R=>e.unref(m)(R,S,S[B.prop],V,D)},[B.type==="index"?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref($))},e.toDisplayString(S._index_||""),3)):B.type==="scroll"?(e.openBlock(),e.createElementBlock("div",lt,[e.createVNode(e.unref(U),e.normalizeProps(e.guardReactiveProps(B.scrollOption)),{default:e.withCtx(()=>[e.createElementVNode("div",null,e.toDisplayString(S[B.prop]),1)]),_:2},1040)])):B.slot?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref($))},[e.renderSlot(b.$slots,B.slot,{params:{row:S,column:B.prop,$index:V}})],2)):(e.openBlock(),e.createElementBlock("div",{key:3,class:e.normalizeClass(e.unref($))},e.toDisplayString(S[B.prop]),3))],12,nt))),128))],2)]))),128))]),_:3})],4)],6))}}),Zt="";Z.install=function(t){t.component("FScrollTable",Z)};const rt={title:"scrollTable 轮播表格",name:"scrollTable",category:"数据展示",status:"100%",install(t){t.use(Z)}},ot=e.defineComponent({name:"FProgress",props:{percent:{type:Number,default:0},color:{type:Array,default:()=>[]},duration:{type:Number,default:.5}},setup(t,{slots:n}){const l=["#d1d5db","#3b82f6","white"];let r=e.computed(()=>M(t.color)?T(l,t.color):l);return{getProgressStyle:e.computed(()=>({"--bgc":r.value[0],"--progress-color":r.value[1],"--progress-text-color":r.value[2],"--duration":`${t.duration}s`}))}}});function it(t,n,l,r,f,d){return e.openBlock(),e.createElementBlock("div",{class:"f-progress",style:e.normalizeStyle(t.getProgressStyle)},[e.createElementVNode("div",{class:"progress-inner",style:e.normalizeStyle({width:`${t.percent}%`})},[e.renderSlot(t.$slots,"default",{percent:t.percent},()=>[e.createElementVNode("span",null,e.toDisplayString(t.percent?`${t.percent}%`:""),1)])],4)],4)}const O=ge(ot,[["render",it]]);O.install=function(t){t.component(O.name,O)};const at={title:"progress 进度条",name:"progress",category:"数据展示",status:"100%",install(t){t.use(O)}},st={class:"f-digital-scroll"},ct={class:"f-digital-scroll__list"},dt={class:"f-digital-scroll__point"},J=e.defineComponent({__name:"index",props:{number:{type:Number,default:0},digit:{type:Number,default:2}},setup(t){const n=t;let l=e.reactive({stringList:[]});const r=d=>{let o=RegExp(`^\\d+(?:\\.\\d{0,${n.digit}})?`),i=Number(d.toString().match(o)).toString(),s=i.indexOf(".");for(s<0&&(s=i.length,i+=".");i.length<=s+n.digit;)i+="0";return i.split("")},f=e.computed(()=>function(d){return{top:`-${Number(d)*100}%`}});return e.onMounted(()=>{l.stringList=r(n.number)}),e.watch(()=>n.number,d=>{l.stringList=r(n.number)}),(d,o)=>(e.openBlock(),e.createElementBlock("div",st,[e.createElementVNode("div",ct,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(l).stringList,(a,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["f-digital-scroll__item",{"is-small":a==="."}]),key:i},[e.withDirectives(e.createElementVNode("div",dt,".",512),[[e.vShow,a==="."]]),e.withDirectives(e.createElementVNode("div",{class:"f-digital-scroll__digital-list",style:e.normalizeStyle(e.unref(f)(a))},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(10,(s,c)=>e.createElementVNode("div",{class:"f-digital-scroll__digital-item",key:c},e.toDisplayString(c),1)),64))],4),[[e.vShow,a!=="."]])],2))),128))])]))}});J.install=function(t){t.component("FDigitalScroll",J)};const ut={title:"digitalScroll 滚动数字",name:"digitalScroll",category:"数据展示",status:"100%",install(t){t.use(J)}},ft={class:"f-scroll-rank"},ht={class:"f-scroll-rank__item-wrap"},gt={class:"f-scroll-rank__item-info"},mt={key:0,class:"f-scroll-rank__item-rank"},pt={class:"f-scroll-rank__item-name"},yt={class:"f-scroll-rank__item-info-right"},_t={key:0,class:"f-scroll-rank__item-percent"},kt={key:1,class:"f-scroll-rank__item-ratio"},wt={key:2,class:"f-scroll-rank__item-format"},$t={class:"f-scroll-rank__item-progress"},v=e.defineComponent({__name:"index",props:{data:{type:Array,default:()=>[]},pageSize:{type:Number,default:5},togglePage:{type:Number,default:3},toggleDur:{type:Number,default:3*1e3},toggleDuration:{type:Number,default:300},maxValue:{type:Number},valueFormatter:{type:Function},order:{type:String,default:"reverse"},showRank:{type:Boolean,default:!0},showPercent:{type:Boolean,default:!0},showRatio:{type:Boolean,default:!0},color:{type:Array,default:()=>["#24293e","#024be4"]},progressDuration:{type:Number,default:.5}},setup(t){const n=t,l=e.ref();let r=e.reactive({dataList:[],currList:[],currPage:1,isEmpty:!1,intervalId:null});const f=h=>{let _=z(q(h)),x=[];n.order==="default"?x=_:x=De(_,"value",n.order),typeof n.valueFormatter=="function"&&(x=x.map((C,p)=>{var E;return C.formattedValue=(E=n.valueFormatter)==null?void 0:E.call(null,{name:C.name,value:C.value,maxValue:s.value,index:p}),C})),r.dataList=x},d=async(h,_,x)=>{let C=x;_.map(p=>p._index_=++C),r.currList.length?h===n.pageSize?r.currList=[..._]:(r.currList.push(..._),r.currList.splice(0,h)):r.currList.push(..._),e.nextTick(()=>{l.value&&(l.value.style.maxHeight=`${l.value.getBoundingClientRect().height}px`,l.value.style.height=`${l.value.getBoundingClientRect().height}px`)})},o=async()=>{if(r.dataList.length){r.isEmpty=!1;let h;n.togglePage>=n.pageSize?h=n.pageSize:h=n.togglePage;let _,x;r.currPage===1?(_=0,x=n.pageSize):(_=h*(r.currPage-2)+n.pageSize,x=h*(r.currPage-1)+n.pageSize);let C=r.dataList.slice(_,x);C.length?r.currPage===1?await d(n.pageSize,C,_):await d(h,C,_):(r.currPage=1,o()),a()}else i(),r.isEmpty=!0,r.currPage=1,r.currList=[]},a=()=>{r.intervalId===null&&(r.intervalId=setInterval(()=>{r.currPage+=1,o()},n.toggleDur))},i=()=>{r.intervalId&&(clearInterval(r.intervalId),r.intervalId=null)},s=e.computed(()=>{var h,_;return n.maxValue?n.maxValue:n.order==="normal"?((h=r.currList.at(-1))==null?void 0:h.value)||0:((_=r.currList[0])==null?void 0:_.value)||0}),c=e.computed(()=>function(h){let _,x=s.value;_=h/x;const C=(p,E)=>Math.round(p*Math.pow(10,E))/Math.pow(10,E);return typeof _=="number"?C(_*100,1):0}),g=h=>{h.style.opacity="0",h.style.gridTemplateRows="0fr"},m=(h,_)=>{h.offsetWidth,h.style.opacity="1",h.style.gridTemplateRows="1fr",_()},y=async h=>{h.style.opacity="1",h.style.margin="0"},$=async(h,_)=>{h.style.opacity="0",h.style.margin="0",h.style.gridTemplateRows="0fr",await new Promise(x=>{setTimeout(()=>{h.remove(),x(!0)},n.toggleDuration)}),_()};return e.onBeforeUnmount(()=>{i()}),e.watch(()=>n.data,h=>{f(h),o()},{deep:!0,immediate:!0}),(h,_)=>(e.openBlock(),e.createElementBlock("div",ft,[e.createElementVNode("div",{class:"f-scroll-rank__list",ref_key:"scrollRank",ref:l,style:e.normalizeStyle({"--page-animate-dur":`${n.toggleDuration}ms`})},[e.createVNode(e.TransitionGroup,{tag:"div",css:!1,onBeforeEnter:g,onEnter:m,onBeforeLeave:y,onLeave:$},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r).currList,(x,C)=>(e.openBlock(),e.createElementBlock("div",{class:"f-scroll-rank__item",key:x},[e.createElementVNode("div",ht,[e.createElementVNode("div",gt,[n.showRank?(e.openBlock(),e.createElementBlock("span",mt,e.toDisplayString(`NO.${x._index_}`),1)):e.createCommentVNode("v-if",!0),e.createElementVNode("span",pt,e.toDisplayString(x.name||""),1),e.createElementVNode("div",yt,[n.showPercent?(e.openBlock(),e.createElementBlock("span",_t,e.toDisplayString(`${e.unref(c)(x.value)}%`),1)):e.createCommentVNode("v-if",!0),n.showRatio&&typeof n.valueFormatter!="function"?(e.openBlock(),e.createElementBlock("span",kt,e.toDisplayString(`${x.value} / ${e.unref(s)}`),1)):e.createCommentVNode("v-if",!0),typeof n.valueFormatter=="function"?(e.openBlock(),e.createElementBlock("span",wt,e.toDisplayString(`${x.formattedValue}`),1)):e.createCommentVNode("v-if",!0)])]),e.createElementVNode("div",$t,[e.createVNode(e.unref(O),{percent:e.unref(c)(x.value),color:n.color,duration:n.progressDuration},null,8,["percent","color","duration"])])])]))),128))]),_:1})],4)]))}});v.install=function(t){t.component("FScrollRank",v)};const bt={title:"scrollRank 轮播排名表格",name:"scrollRank",category:"数据展示",status:"100%",install(t){t.use(v)}},xt={width:"100%",height:"100%"},St=e.createStaticVNode('<defs><radialGradient id="lineGradient" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="#fff" stop-opacity="1"></stop><stop offset="100%" stop-color="#fff" stop-opacity="0"></stop></radialGradient><radialGradient id="haloGradient" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="#fff" stop-opacity="0"></stop><stop offset="100%" stop-color="#fff" stop-opacity="1"></stop></radialGradient></defs>',1),Bt=["id","cx","cy"],Ct=["values","dur"],Et=["dur"],Nt=["id"],Vt=["xlink:href"],Pt=["xlink:href","fill","mask"],It=["fill","x","y"],Lt=["href","width","height","x","y"],Dt=["id","d"],Tt=["id"],zt=["r"],Rt=["dur","path"],At=["xlink:href","stroke-width","stroke"],Ot=["xlink:href","stroke-width","stroke","mask"],Ft=["from","to","dur"],Mt={key:2},ee=e.defineComponent({__name:"index",props:{bgUrl:{type:String},points:{type:Array,default:()=>[]},paths:{type:Array,default:()=>[]},line:{type:Object,default:()=>({show:!0,type:"line",width:2,color:"#0080ff",orbitColor:"rgba(103, 224, 227, .2)",duration:2e3,radius:100,k:-.5,curvature:5})},halo:{type:Object,default:()=>({show:!0,duration:2e3,color:"#3891c2",radius:100})},title:{type:Object,default:()=>({show:!0,offest:[0,-10],color:"black",fontSize:16})},icon:{type:Object,default:()=>({show:!0,url:"",width:10,height:10})}},emits:["chart-click"],setup(t){const n=t,l=e.ref();let r;e.onMounted(()=>{r=e.getCurrentInstance()});const f=e.reactive({halo:{show:!0,duration:2e3,color:"#3891c2",radius:100},title:{show:!0,offest:[0,-10],color:"black",fontSize:16},icon:{show:!0,url:"",width:10,height:10},line:{show:!0,width:3,color:"#ffde93",orbitColor:"rgba(103, 224, 227, .2)",duration:700,radius:100,k:-.5,curvature:5}}),d=e.reactive({points:[],paths:[]}),o=p=>{let{offsetX:E,offsetY:u}=p;const w=(E/s.value).toFixed(2),k=(u/c.value).toFixed(2);r==null||r.emit("chart-click",w,k,p)},a=()=>{g(),m()},i=()=>{g(),m()},{width:s,height:c}=F(l,a,i),g=()=>{let p=z(q(n.points));d.points=p.map((E,u)=>({...E,halo:T({},f.halo,z(n.halo),E.halo),title:T({},f.title,z(n.title),E.title),icon:T({},f.icon,z(n.icon),E.icon),key:`${E.coordinate.toString()}${u}`}))},m=()=>{let p=z(q(n.paths));d.paths=p.map((E,u)=>{var ne,A;let{source:w,route:k,target:b,line:P}=E,S=T({},f.line,z(n.line),P),V=(ne=d.points.find(({name:I})=>I===w))==null?void 0:ne.coordinate,B=(A=d.points.find(({name:I})=>I===b))==null?void 0:A.coordinate,D=k?[V,...k,B]:[V,B];D=D.filter(I=>I!==void 0);let R=[];for(let I=0;I<D.length-1;I++){let Ut=D[I],G=y(Ut,D[I+1],S.k,S.curvature),Gt=`M${G[0].toString()} Q${G[1].toString()} ${G[2].toString()}`,Qt=`${G.toString()}`;R.push({path:G,d:Gt,key:Qt})}return{...E,line:S,routeList:R}})},y=(p,E,u,w)=>{let[k,b]=p,[P,S]=E;const[V,B]=[(k+P)/2,(b+S)/2];let R=he([k,b],[P,S])/w,ne=R/2,[A,I]=[V,B];do A+=ne,I=$(u,[V,B],A)[1];while(he([V,B],[A,I])<R);return[p,[A,I],E]};function $(p,[E,u],w){const k=u-p*E+p*w;return[w,k]}let h=e.computed(()=>function(p){return`M${p[0][0]*s.value},${p[0][1]*c.value} 
    Q${p[1][0]*s.value},${p[1][1]*c.value} 
    ${p[2][0]*s.value},${p[2][1]*c.value}`}),_=e.computed(()=>function(p){return`M${p[0][0]*s.value},${p[0][1]*c.value} 
    Q${p[1][0]*s.value},${p[1][1]*c.value} 
    ${p[2][0]*s.value},${p[2][1]*c.value}`}),x=e.computed(()=>function(p){return{x1:p[0][0]*s.value,y1:p[0][1]*c.value,x2:p[1][0]*s.value,y2:p[1][1]*c.value,x3:p[2][0]*s.value,y3:p[2][1]*c.value}});e.computed(()=>function(p){return`"M${p[0][0]*s.value},${p[0][1]*c.value} Q${p[1][0]*s.value},${p[1][1]*c.value} ${p[2][0]*s.value},${p[2][1]*c.value}"`});let C=e.computed(()=>function(p){return r?r.proxy.$refs[p][0].getTotalLength():0});return e.watch(()=>n,p=>{g(),m()},{deep:!0,immediate:!0}),(p,E)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"flightChart",ref:l,class:"f-flight-chart"},[e.createElementVNode("div",{class:"f-flight-chart__wrap",style:e.normalizeStyle(`background-image: url(${n.bgUrl})`),onClick:o},[(e.openBlock(),e.createElementBlock("svg",xt,[St,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.points,(u,w)=>(e.openBlock(),e.createElementBlock("g",{key:u.key},[e.createElementVNode("defs",null,[u.halo.show?(e.openBlock(),e.createElementBlock("circle",{key:0,id:`halo${u.key}`,cx:u.coordinate[0]*e.unref(s),cy:u.coordinate[1]*e.unref(c)},[e.createElementVNode("animate",{attributeName:"r",values:`1;${u.halo.radius}`,dur:`${u.halo.duration}ms`,repeatCount:"indefinite"},null,8,Ct),e.createElementVNode("animate",{attributeName:"opacity",values:"1;0",dur:`${u.halo.duration}ms`,repeatCount:"indefinite"},null,8,Et)],8,Bt)):e.createCommentVNode("v-if",!0),e.createElementVNode("mask",{id:`mask${u.key}`},[e.createElementVNode("use",{"xlink:href":`#halo${u.key}`,fill:"url(#haloGradient)"},null,8,Vt)],8,Nt)]),u.halo.show?(e.openBlock(),e.createElementBlock("use",{key:0,"xlink:href":`#halo${u.key}`,fill:u.halo.color,mask:`url(#mask${u.key})`},null,8,Pt)):e.createCommentVNode("v-if",!0),u.title.show?(e.openBlock(),e.createElementBlock("text",{key:1,class:"point__title",style:e.normalizeStyle({fontSize:`${u.title.fontSize}px`}),fill:u.title.color,x:u.coordinate[0]*e.unref(s)+u.title.offest[0],y:u.coordinate[1]*e.unref(c)+u.title.offest[1]},e.toDisplayString(u.name),13,It)):e.createCommentVNode("v-if",!0),u.icon.show?(e.openBlock(),e.createElementBlock("image",{key:2,class:"point__icon",href:u.icon.url,width:u.icon.width,height:u.icon.height,x:u.coordinate[0]*e.unref(s)-u.icon.width/2,y:u.coordinate[1]*e.unref(c)-u.icon.height/2},null,8,Lt)):e.createCommentVNode("v-if",!0)]))),128)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.paths,(u,w)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.routeList,(k,b)=>(e.openBlock(),e.createElementBlock("g",null,[e.createElementVNode("defs",null,[e.createElementVNode("path",{id:k.key,ref_for:!0,ref:k.key,d:e.unref(h)(k.path),fill:"transparent",style:{overflow:"hidden"}},null,8,Dt),u.line.show&&!u.line.slot?(e.openBlock(),e.createElementBlock("mask",{key:0,id:`mask${k.key}`},[e.createElementVNode("circle",{cx:"0",cy:"0",r:u.line.radius,fill:"url(#lineGradient)"},[e.createElementVNode("animateMotion",{dur:`${u.line.duration}ms`,path:e.unref(h)(k.path),rotate:"auto",repeatCount:"indefinite"},null,8,Rt)],8,zt)],8,Tt)):e.createCommentVNode("v-if",!0)]),u.line.show?(e.openBlock(),e.createElementBlock("use",{key:0,"xlink:href":`#${k.key}`,"stroke-width":u.line.width,stroke:u.line.orbitColor},null,8,At)):e.createCommentVNode("v-if",!0),u.line.show&&!u.line.slot?(e.openBlock(),e.createElementBlock("use",{key:1,"xlink:href":`#${k.key}`,"stroke-width":u.line.width,stroke:u.line.color,mask:`url(#mask${k.key})`},[e.createElementVNode("animate",{attributeName:"stroke-dasharray",from:`0, ${e.unref(C)(k.key)}`,to:`${e.unref(C)(k.key)}, 0`,dur:`${u.line.duration}ms`,repeatCount:"indefinite"},null,8,Ft)],8,Ot)):e.createCommentVNode("v-if",!0),u.line.show&&u.line.slot?(e.openBlock(),e.createElementBlock("g",Mt,[e.renderSlot(p.$slots,u.line.slot,{path:e.unref(_)(k.path),pathArr:e.unref(x)(k.path),totalLength:e.unref(C)(k.key),line:u.line})])):e.createCommentVNode("v-if",!0)]))),256))],64))),256))]))],4)],512))}}),Jt="";ee.install=function(t){t.component("FFlightChart",ee)};const Ht={title:"flightChart 飞线图",name:"flightChart",category:"图表",status:"100%",install(t){t.use(ee)}},Wt={data:{type:Array,default:()=>[]},estimatedItemSize:{type:Number,required:!0},bufferScale:{type:Number,default:1},height:{type:String,default:"100%"},autoScroll:{type:Boolean,default:!1},scrollRow:{type:Number,default:1},scrollDistance:{type:Number},scrollInterval:{type:Number,default:100},stopTime:{type:Number,default:10*1e3}},Xt=["id"],te=e.defineComponent({__name:"index",props:Wt,setup(t){const n=t,l=e.ref(null),r=e.ref(null),f=e.ref(null),d=e.ref(null),o=e.reactive({positions:[],screenHeight:0,start:0,end:0,isMouseHover:!1,intervalID:null});e.onBeforeMount(()=>{a()}),e.onMounted(()=>{o.screenHeight=l.value.clientHeight,o.start=0,o.end=o.start+g.value,C(),E()}),e.onUpdated(()=>{e.nextTick(()=>{var w,k;if(!d.value||!((w=d.value)!=null&&w.length))return;_();let u=(k=o.positions.at(-1))==null?void 0:k.bottom;r.value.style.height=`${u}px`,h()})}),e.onBeforeUnmount(()=>{p()}),e.watch(()=>n.data,()=>{a()});const a=()=>{o.positions=n.data.map((u,w)=>({index:w,height:n.estimatedItemSize,top:w*n.estimatedItemSize,bottom:(w+1)*n.estimatedItemSize}))},i=(u=0)=>s(o.positions,u),s=(u,w)=>{let k=0,b=u.length-1,P=null;for(;k<=b;){let S=parseInt((k+b)/2+""),V=u[S].bottom;if(V===w)return S+1;V<w?k=S+1:V>w&&((P===null||P>S)&&(P=S),b=b-1)}return P},c=e.computed(()=>n.data.map((u,w)=>({_index_:w,...u}))),g=e.computed(()=>Math.ceil(o.screenHeight/n.estimatedItemSize)),m=e.computed(()=>Math.min(o.start,n.bufferScale*g.value)),y=e.computed(()=>Math.min(n.data.length-o.end,n.bufferScale*g.value)),$=e.computed(()=>{let u=o.start-m.value,w=o.end+y.value;return c.value.slice(u,w)}),h=()=>{let u=0;if(o.start>=1){let w=o.positions[o.start].top-(o.positions[o.start-m.value]?o.positions[o.start-m.value].top:0);u=o.positions[o.start-1].bottom-w}else u=0;f.value.style.transform=`translate3d(0,${u}px,0)`},_=()=>{if(d.value)for(let u=0;u<d.value.length;u++){let w=d.value[u],b=w.getBoundingClientRect().height,P=+w.id,V=o.positions[P].height-b;if(V){o.positions[P].bottom=o.positions[P].bottom-V,o.positions[P].height=b;for(let B=P+1;B<o.positions.length;B++)o.positions[B].top=o.positions[B-1].bottom,o.positions[B].bottom=o.positions[B].bottom-V}}},x=()=>{let u=l.value.scrollTop;o.start=i(u),o.end=o.start+g.value,h()},C=()=>{o.intervalID===null&&n.autoScroll&&!o.isMouseHover&&(o.intervalID=setInterval(()=>{if(l.value){let u=0;if(n.scrollDistance&&(u=n.scrollDistance),n.scrollRow&&u===0){let w=0;for(let k=0;k<n.scrollRow;k++)w+=o.positions[o.start+k].height;u=w}if(Math.abs(l.value.scrollHeight-l.value.clientHeight-l.value.scrollTop)>=1){let w=l.value.scrollTop+u;l.value.scrollTo({top:w,behavior:"smooth"})}else p(),setTimeout(()=>{l.value.scrollTo({top:0,behavior:"instant"}),setTimeout(()=>{C()},500)},n.stopTime)}},n.scrollInterval))},p=()=>{o.intervalID&&(clearInterval(o.intervalID),o.intervalID=null)},E=()=>{l.value&&(l.value.addEventListener("mouseenter",()=>{p(),o.isMouseHover=!0}),l.value.addEventListener("mouseleave",()=>{o.isMouseHover=!1,C()}))};return(u,w)=>(e.openBlock(),e.createElementBlock("div",{class:"f-virtual-list",ref_key:"virtualList",ref:l,style:e.normalizeStyle({height:u.height}),onScroll:w[0]||(w[0]=k=>x())},[e.createElementVNode("div",{class:"f-virtual-list__space",ref_key:"virtualList__space",ref:r},null,512),e.createElementVNode("div",{class:"f-virtual-list__content",ref_key:"virtualList__content",ref:f},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref($),k=>(e.openBlock(),e.createElementBlock("div",{class:"f-virtual-list__item",ref_for:!0,ref_key:"virtualList__item",ref:d,id:`${k._index_}`},[e.renderSlot(u.$slots,"default",{ref_for:!0,ref:"slot",params:{row:k,$index:k._index_}})],8,Xt))),256))],512)],36))}});te.install=function(t){t.component("FVirtualList",te)};const _e=[ze,Re,Ae,We,Ue,Ze,rt,et,at,ut,bt,Ht,{title:"virtualList 虚拟列表",name:"virtualList",category:"数据展示",status:"100%",install(t){t.use(te)}}],Yt={version:"1.0.12",install(t){_e.forEach(n=>t.use(n))}};N.BorderBox1=H,N.BorderBox2=W,N.DigitalScroll=J,N.DynamicParticle=K,N.FlightChart=ee,N.Loading1=X,N.Loading2=Y,N.Progress=O,N.ScreenContainer=j,N.ScrollRank=v,N.ScrollTable=Z,N.ScrollText=U,N.VirtualList=te,N.default=Yt,N.installs=_e,Object.defineProperties(N,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
