(function(E,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(E=typeof globalThis<"u"?globalThis:E||self,e(E["fast-dataview-ui"]=E["fast-dataview-ui"]||{},E.Vue))})(this,function(E,e){"use strict";function ke(t,r){const l=window.MutationObserver,n=new l(r);return n.observe(t,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),n}var ie;const se=typeof window<"u",be=t=>typeof t=="string",oe=()=>{};se&&((ie=window==null?void 0:window.navigator)!=null&&ie.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function G(t){return typeof t=="function"?t():e.unref(t)}function xe(t,r){function l(...n){return new Promise((u,d)=>{Promise.resolve(t(()=>r.apply(this,n),{fn:r,thisArg:this,args:n})).then(u).catch(d)})}return l}function Se(t,r={}){let l,n,u=oe;const d=a=>{clearTimeout(a),u(),u=oe};return a=>{const i=G(t),s=G(r.maxWait);return l&&d(l),i<=0||s!==void 0&&s<=0?(n&&(d(n),n=null),Promise.resolve(a())):new Promise((c,p)=>{u=r.rejectOnCancel?p:c,s&&!n&&(n=setTimeout(()=>{l&&d(l),n=null,c(a())},s)),l=setTimeout(()=>{n&&d(n),n=null,c(a())},i)})}}function Ce(t){return t}function Be(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function Ne(t,r=200,l={}){return xe(Se(r,l),t)}function Ee(t){var r;const l=G(t);return(r=l==null?void 0:l.$el)!=null?r:l}const Le=se?window:void 0;function Ve(...t){let r,l,n,u;if(be(t[0])||Array.isArray(t[0])?([l,n,u]=t,r=Le):[r,l,n,u]=t,!r)return oe;Array.isArray(l)||(l=[l]),Array.isArray(n)||(n=[n]);const d=[],o=()=>{d.forEach(c=>c()),d.length=0},a=(c,p,y,h)=>(c.addEventListener(p,y,h),()=>c.removeEventListener(p,y,h)),i=e.watch(()=>[Ee(r),G(u)],([c,p])=>{o(),c&&d.push(...l.flatMap(y=>n.map(h=>a(c,y,h,p))))},{immediate:!0,flush:"post"}),s=()=>{i(),o()};return Be(s),s}const ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de="__vueuse_ssr_handlers__";ce[de]=ce[de]||{};var ue;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(ue||(ue={}));var De=Object.defineProperty,fe=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,he=(t,r,l)=>r in t?De(t,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[r]=l,Te=(t,r)=>{for(var l in r||(r={}))Pe.call(r,l)&&he(t,l,r[l]);if(fe)for(var l of fe(r))Ie.call(r,l)&&he(t,l,r[l]);return t};Te({linear:Ce},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const A=(t,r,l,n)=>{const u=e.ref(0),d=e.ref(0),o=e.ref(0),a=e.ref(0);let i,s=null,c=null;const p=(g=!0)=>new Promise(_=>{e.nextTick(()=>{c=t.value,u.value=t.value?t.value.clientWidth:0,d.value=t.value?t.value.clientHeight:0,o.value=c?c.getBoundingClientRect().width:0,a.value=c?c.getBoundingClientRect().height:0,t.value?(!u.value||!d.value)&&console.warn("Component width or height is 0px"):console.warn("Failed to get dom node"),typeof r=="function"&&g&&r(),_(!0)})}),y=()=>{s=ke(c,i),Ve(window,"resize",i)},h=()=>{s&&(s.disconnect(),s.takeRecords(),s=null)},$=async()=>{await p(!1),i=Ne(p,300),y(),typeof l=="function"&&l()};return e.onMounted(()=>{$()}),e.onUnmounted(()=>{h()}),{width:u,height:d,afterWidth:o,afterHeight:a,initWH:p}},ge={color:{type:Array,default:()=>[]},backgroundColor:{type:String,default:"transparent"},strokeWidth:{type:Number},title:{type:String,default:""},duration:{type:Number,default:2},strokeDasharray:{type:String,default:"300 300"}},P=Object.assign,W=t=>Array.isArray(t)&&t.length,Q=t=>Array.isArray(t)&&t||[],I=t=>t>=0?t:0,ze=(t,r,l="reverse")=>t.sort(Re(r,l)),Re=(t,r="reverse")=>function(l,n){return l[t]<n[t]?r==="normal"?-1:1:l[t]>n[t]?r==="normal"?1:-1:0},z=(t,r=new WeakMap)=>{if(t===null)return t;if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if(typeof t!="object")return t;if(r.get(t))return r.get(t);let l=new t.constructor;r.set(t,l);for(let n in t)t.hasOwnProperty(n)&&(l[n]=z(t[n],r));return l},me=(t,r)=>{const l=Math.abs(t[0]-r[0]),n=Math.abs(t[1]-r[1]);return Math.sqrt(l*l+n*n)},M=e.defineComponent({name:"FBorderBox1",props:ge,setup(t,{slots:r}){const l=e.ref(null),n=["rgba(46, 96, 153,0.85)","rgba(71, 196, 245,0.85)"];let u=e.computed(()=>W(t.color)?P(n,t.color):n);const{width:d,height:o,initWH:a}=A(l);return{width:d,height:o,initWH:a,borderBox1:l,defaultColor:n,realColor:u}},render(){const{$slots:t,width:r,height:l,backgroundColor:n,strokeWidth:u,realColor:d,title:o}=this,a=20;let i=u||2,s=I(r-i-2),c=I(l-i-2);return e.createVNode("div",{ref:"borderBox1",class:"f-border-box-1"},[e.createVNode("svg",{class:"f-svg-container",width:s,height:c},[e.createVNode("polygon",{fill:n,stroke:d[0],"stroke-width":i,points:`
            ${a} ${i}, ${s-a} ${i}, ${s-i} ${a}, ${s-i} ${c-a}, ${s-a} ${c},
            ${a} ${c}, ${i} ${c-a}, ${i} ${a}
          `},null),e.createVNode("polyline",{stroke:d[1],"stroke-width":i+1,points:`
            ${a-8} 0,0 ${a-8}
          `},null),e.createVNode("polyline",{stroke:d[1],"stroke-width":i+1,points:`
            ${s} ${c-a+8}, ${s-a+8+i} ${c}
          `},null),e.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":i+2,points:`
            ${i} ${a+15}, ${i} ${a}, ${a} ${i} , ${a+15} ${i}
          `},null),e.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":i+2,points:`
           ${a+15} ${c}, ${a}  ${c}, ${i} ${c-a}, ${i} ${c-a-15}
          `},null),e.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":i+2,points:`
           ${s-a-15} ${i}, ${s-a} ${i}, ${s-i} ${a}, ${s-i} ${a+15}
          `},null),e.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":i+2,points:`
          ${s-a-15} ${c}, ${s-a} ${c}, ${s-i} ${c-a}, ${s-i} ${c-a-15}
          `},null),o?e.createVNode("polygon",{fill:"rgba(33, 173, 238,0.1)",points:`
            ${a} ${i}, ${s-a} ${i}, ${s-i} ${a}, ${s-i} ${a+15}, ${i} ${a+15},
            ${i} ${a}
          `},null):null,o?e.createVNode("text",{x:"30",y:"25","font-size":"16","font-weight":"bold",fill:"#279fc7"},[o]):null]),e.createVNode("div",{class:"f-border-box-content"},[e.renderSlot(t,"default")])])}});M.install=function(t){t.component(M.name,M)};const Oe={title:"border-01 边框",name:"border01",category:"边框",status:"100%",install(t){t.use(M)}},H=e.defineComponent({name:"FBorderBox2",props:ge,setup(t,{slots:r}){const l=e.ref(null),n=["white"];let u=e.computed(()=>W(t.color)?P(n,t.color):n);const{width:d,height:o,initWH:a}=A(l);return{width:d,height:o,initWH:a,borderBox2:l,defaultColor:n,realColor:u}},render(){const{$slots:t,width:r,height:l,backgroundColor:n,strokeWidth:u,realColor:d,duration:o,strokeDasharray:a}=this;let i=u||3,s=I(i),c=I(i),p=I(r-i),y=I(i),h=I(r-i),$=I(l-i),g=I(i),_=I(l-i);return e.createVNode("div",{ref:"borderBox2",class:"f-border-box-2"},[e.createVNode("svg",{class:"f-svg-container",width:r,height:l},[e.createVNode("path",{class:"f-container-path",style:{"--duration":`${o}s`,"--border-stroke-dasharray":a},stroke:d[0],"stroke-width":i,fill:n,d:`M ${s} ${c}, L ${p} ${y}, L ${h} ${$}, L ${g} ${_}, Z`},null)]),e.createVNode("div",{class:"f-border-box-content"},[e.renderSlot(t,"default")])])}});H.install=function(t){t.component(H.name,H)};const Ae={title:"border-02 边框",name:"border02",category:"边框",status:"100%",install(t){t.use(H)}},X=e.defineComponent({name:"FLoading1",props:{width:{type:String,default:"100px"},height:{type:String,default:"100px"},color:{type:Array,default:()=>[]},text:{type:String,default:""},duration:{type:Number,default:2}},setup(t,{slots:r}){const l=e.ref(null),n=["#4f29f0","#c3c8de","#414856"];let u=e.computed(()=>W(t.color)?P(n,t.color):n);const{width:d,height:o,initWH:a}=A(l);return{width:d,height:o,initWH:a,loading1:l,defaultColor:n,realColor:u}},render(){const{$slots:t,realColor:r,text:l,duration:n}=this;return e.createVNode("div",{ref:"loading1",class:"f-loading-1",style:{"--front-color":r[0],"--back-color":r[1],"--text-color":r[2],"--duration":`${n}s`}},[e.createVNode("svg",{class:"f-circle-outer",viewBox:"0 0 86 86"},[e.createVNode("circle",{class:"f-back",cx:"43",cy:"43",r:"40"},null),e.createVNode("circle",{class:"f-front",cx:"43",cy:"43",r:"40"},null)]),e.createVNode("svg",{class:"f-circle-middle",viewBox:"0 0 60 60"},[e.createVNode("circle",{class:"f-back",cx:"30",cy:"30",r:"27"},null),e.createVNode("circle",{class:"f-front",cx:"30",cy:"30",r:"27"},null)]),e.createVNode("svg",{class:"f-circle-inner",viewBox:"0 0 34 34"},[e.createVNode("circle",{class:"f-back",cx:"17",cy:"17",r:"14"},null),e.createVNode("circle",{class:"f-front",cx:"17",cy:"17",r:"14"},null)]),l?e.createVNode("div",{class:"f-loading-text","data-text":l},null):null])}});X.install=function(t){t.component(X.name,X)};const Fe={title:"loading-01 加载",name:"loading01",category:"加载",status:"100%",install(t){t.use(X)}},We=e.defineComponent({name:"FLoading2",props:{width:{type:String,default:"100px"},height:{type:String,default:"100px"},color:{type:Array,default:()=>[]},text:{type:String,default:""},duration:{type:Number,default:.8}},setup(t,{slots:r}){const l=["#d1d5db","#3b82f6","#3b82f6"];let n=e.computed(()=>W(t.color)?P(l,t.color):l);return{getLoadingStyle:e.computed(()=>({width:t.width,height:t.height,color:n.value[2],"--border-color":n.value[0],"--border-top-color":n.value[1],"--duration":`${t.duration}s`}))}}}),pe=(t,r)=>{const l=t.__vccOpts||t;for(const[n,u]of r)l[n]=u;return l},Me=e.createElementVNode("div",{class:"f-loading-round"},null,-1),He={class:"loading-text"};function Xe(t,r,l,n,u,d){return e.openBlock(),e.createElementBlock("div",{class:"f-loading-2",style:e.normalizeStyle(t.getLoadingStyle)},[Me,e.createElementVNode("div",He,[e.renderSlot(t.$slots,"default",{},()=>[e.createElementVNode("div",null,e.toDisplayString(t.text),1)])])],4)}const Y=pe(We,[["render",Xe]]);Y.install=function(t){t.component(Y.name,Y)};const Ye={title:"loading-02 加载",name:"loading02",category:"加载",status:"100%",install(t){t.use(Y)}},ve={width:{type:Number,default:1920},height:{type:Number,default:1080},onAfterResize:{type:Function,default:()=>{}}},qe={class:"f-screen-container"},j=e.defineComponent({__name:"index",props:ve,setup(t){const r=t,l=e.ref(null),n=e.reactive({width:0,height:0,screenWidth:0,screenHeight:0,scaleX:1,scaleY:1,isReady:!1});let u=e.ref(1),d=e.ref(1);e.provide("scaleX",u),e.provide("scaleY",d);const o=()=>{r.width&&r.height?(n.width=r.width,n.height=r.height):(n.width=l.value.clientWidth,n.height=l.value.clientHeight);const{width:p,height:y}=window.screen;n.screenWidth=p,n.screenHeight=y},a=()=>{n.width&&n.height?(l.value.style.width=`${n.width}px`,l.value.style.height=`${n.height}px`):(l.value.style.width=`${n.screenWidth}px`,l.value.style.height=`${n.screenHeight}px`)},i=()=>{const p=document.body.clientWidth,y=document.body.clientHeight,h=n.width||n.screenWidth,$=n.height||n.screenHeight,g=p/+h,_=y/+$;u.value=g,d.value=_,l.value.style.transform=`scale(${g}, ${_})`};return A(l,()=>{i()},()=>{o(),a(),i(),r.onAfterResize(),n.isReady=!0}),(p,y)=>(e.openBlock(),e.createElementBlock("div",qe,[e.createElementVNode("div",{class:"f-screen-inner",ref_key:"screenContainer",ref:l},[n.isReady?e.renderSlot(p.$slots,"default",{key:0}):e.createCommentVNode("v-if",!0),e.createCommentVNode(" <slot></slot> ")],512)]))}}),tr="";j.install=function(t){t.component("FScreenContainer",j)};const Ue={title:"container 容器",name:"container",category:"容器",status:"100%",install(t){t.use(j)}},Ge={width:{type:Number,default:400},height:{type:Number,default:400},radius:{type:Number,default:1.2},strength:{type:Number,default:2},src:{type:String}},Qe=1/30;class ae{constructor(r,l,n,u,d,o,a){this.x=Math.random()*r>>0,this.y=Math.random()*l>>0,this.targetX=n,this.targetY=u,this.time=d,this.radius=o,this.colors=a,this.opacity=0}draw(r){r.fillStyle=`${this.colors}`,r.fillRect(this.x,this.y,this.radius*2,this.radius*2),r.fill()}update(r,l,n,u){if(this.distanceX=this.targetX-this.x,this.distanceY=this.targetY-this.y,this.velocityX=this.distanceX/this.time,this.velocityY=this.distanceY/this.time,n&&u){let d=n-this.x,o=u-this.y,a=Math.sqrt(d**2+o**2),i=r/a;i=i>7?7:i;let s=Math.atan2(o,d),c=Math.cos(s),p=Math.sin(s),y=c*i*-l,h=p*i*-l;this.velocityX+=y,this.velocityY+=h}this.x+=this.velocityX,this.y+=this.velocityY,this.opacity<1&&(this.opacity+=Qe)}change(r,l,n){this.targetX=r,this.targetY=l,this.colors=n}}const ye=30;class je{constructor(r,l,n){this.radius=l,this.strength=n,this.canvasEle=r,this.ctx=r.getContext("2d"),this.width=r.width,this.height=r.height,this.particleArr=[],this.canvasEle.onmouseleave=()=>{this.mouseX=0,this.mouseY=0}}changeImg(r){if(this.particleArr.length){let l=r.particleData,n=l.length,u=this.particleArr,d=u.length;for(let a=0;a<n;a++){const{targetX:i,targetY:s,colors:c}=l[a];u[a]?u[a].change(i,s,c):u[a]=new ae(this.width,this.height,i,s,ye,this.radius,c)}n<d&&(this.particleArr=u.splice(0,n)),u=this.particleArr;let o=u.length;for(;o;){let a=~~(Math.random()*o--),i=u[a],{targetX:s,targetY:c,colors:p}=i;i.targetX=u[o].targetX,i.targetY=u[o].targetY,i.colors=u[o].colors,u[o].targetX=s,u[o].targetY=c,u[o].colors=p}}else this.particleArr=r.particleData.map(l=>new ae(this.width,this.height,l.targetX,l.targetY,ye,this.radius,l.colors))}drawCanvas(){this.ctx.clearRect(0,0,this.width,this.height),this.particleArr.forEach(r=>{r.update(30,this.strength,this.mouseX,this.mouseY),r.draw(this.ctx)}),this.requestID=window.requestAnimationFrame(()=>this.drawCanvas())}}const Ke=30;class _e{constructor(r,l,n,u){this.src=r,this.width=l,this.height=n,this.particleData=[],this.radius=u}createParticleData(r=this.src){return new Promise((l,n)=>{let u=new Image;u.crossOrigin="",u.src=decodeURI(new URL(r,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("fast-dataview-ui.umd.js",document.baseURI).href).href),u.onload=()=>{const d=document.createElement("canvas"),o=d.getContext("2d"),a=this.width,i=this.height;d.width=a,d.height=i,o==null||o.drawImage(u,0,0,a,i);const s=o==null?void 0:o.getImageData(0,0,a,i).data;o==null||o.clearRect(0,0,this.width,this.height);for(let c=0;c<i;c+=5)for(let p=0;p<a;p+=5){const y=(p+c*a)*4,h=s[y+3];if(h==0)continue;const $=s[y],g=s[y+1],_=s[y+2];if($+g+_+h){const S=new ae(this.width,this.height,p,c,Ke,this.radius,`rgba(${$},${g},${_},${h})`);this.particleData.push(S)}}l(this.particleData)},u.onerror=()=>{n("图片转化成粒子失败")}})}}const Ze=["width","height"],K=e.defineComponent({__name:"index",props:Ge,setup(t,{expose:r}){const l=t;let n=e.inject("scaleX",e.ref(1)),u=e.inject("scaleY",e.ref(1));const d=e.ref(null),o=e.ref(null);let a=e.ref(),i=e.ref();const s=async p=>{i.value=new _e(p,l.width,l.height,l.radius),await i.value.createParticleData(),a.value.changeImg(i.value)},c=async()=>{i.value=new _e(l.src,l.width,l.height,l.radius),await i.value.createParticleData(),d.value&&(o.value=d.value.getContext("2d"),a.value=new je(d.value,l.radius,l.strength),d.value.addEventListener("mousemove",p=>{const{left:y,top:h}=d.value.getBoundingClientRect(),{clientX:$,clientY:g}=p;a.value.mouseX=($-y)*(1/n.value),a.value.mouseY=(g-h)*(1/u.value)}),a.value.drawCanvas(),a.value.changeImg(i.value))};return e.onMounted(()=>{c()}),r({toggleImg:s}),(p,y)=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("canvas",{ref_key:"canvasRef",ref:d,width:l.width,height:l.height},null,8,Ze)]))}});K.install=function(t){t.component("FDynamicParticle",K)};const Je={title:"particle 粒子动效",name:"particle",category:"canvas动效",status:"100%",install(t){t.use(K)}};function $e(t){return{handleToggle:n=>{t.emit("handle-toggle",n)},handleCellClick:(n,u,d,o,a)=>{t.emit("cell-click",u,d,o,a,n)}}}function et(t,r,l){const{handleToggle:n}=$e(l),u=y=>{let h=Q(y);return z(h)},d=()=>{t.toggleCount+=1,t.toggleCount>=r.emitCondition&&n(r.name)},o=async(y,h,$)=>{let g=$;h.map(_=>_._index_=++g),t.currData.length?y===r.pageSize?t.currData=[...h]:(t.currData.push(...h),t.currData.splice(0,y)):t.currData.push(...h)},a=async()=>{if(t.tableData.length){c(!1,!0),t.isEmpty=!1;let y;r.mode==="single"?y=r.togglePage:y=r.pageSize;let h,$;t.currPage===1?(h=0,$=r.pageSize):(h=y*(t.currPage-2)+r.pageSize,$=y*(t.currPage-1)+r.pageSize);let g=t.tableData.slice(h,$);g.length?t.currPage===1&&t.toggleCount===0?o(r.pageSize,g,h):t.currPage===1?await o(r.pageSize,g,h):await o(y,g,h):(t.currPage=1,d(),a()),i()}else c(),t.currPage=1,t.currData=[],t.isEmpty=!0,s()},i=()=>{t.intervalId===null&&!t.isStopToggle&&(t.intervalId=setInterval(()=>{t.currPage+=1,a()},r.toggleDur))},s=()=>{t.setTimeoutId===null&&(t.setTimeoutId=setTimeout(()=>{n(r.name)},r.emptyEmitDur))},c=(y=!0,h=!0)=>{t.intervalId&&y&&(clearInterval(t.intervalId),t.intervalId=null),t.setTimeoutId&&h&&(clearTimeout(t.setTimeoutId),t.setTimeoutId=null)};return{deepCloneArr:u,setCurrData:a,setPageInterval:i,setEmptyTimeout:s,clearTimer:c,setPage:(y=1)=>{c(),t.currPage=y;let h;r.mode==="single"?h=r.togglePage:h=r.pageSize;let $=h*(t.currPage-1),g=h*(t.currPage-1)+r.pageSize,_=t.tableData.slice($,g);_.length?(o(r.pageSize,_,$),i()):a(),t.tableData.length||s()}}}function tt(t,r){const l=e.computed(()=>function(s,c){const p=["f-scroll-table__row"];return r.stripe&&c%2===1&&p.push("f-scroll-table_row--striped"),p}),n=e.computed(()=>{const s=["cell"];return r.wrap?s.push("cell--wrap"):s.push("cell--nowrap"),s}),u=e.computed(()=>function(s){let c=s.reduce((p,y)=>p+=y.width,0);return{width:`${c}px`,"max-width":`${c}px`}}),d=e.computed(()=>({height:r.maxHeight||"auto","max-height":r.maxHeight||"auto","--page-animate-dur":`${r.pageAnimateDur}ms`})),o=e.computed(()=>function(s){return{}}),a=e.computed(()=>function(s){return{width:`${s.width}px`,"max-width":`${s.width}px`,"text-align":s.align||r.align||"start"}}),i=e.computed(()=>function(s,c,p,y){return typeof r.cellStyle=="function"?r.cellStyle.call(null,{rowIndex:p,columnIndex:y,row:s,column:c}):r.cellStyle||{}});return{getRowClass:l,getCellClass:n,getTableStyle:u,getBodyStyle:d,getRowStyle:o,getExtraCellStyle:a,getCellStyle:i}}const v=e.defineComponent({__name:"index",props:{type:{default:"default"},direction:{default:"left"},speed:{default:60},mode:{default:"infinite"}},setup(t){const r=t,l=e.ref(),n=e.ref(),u=e.computed(()=>{var y,h,$,g;let d=((y=l.value)==null?void 0:y.offsetWidth)||0,o=((h=l.value)==null?void 0:h.offsetHeight)||0,a=(($=n.value)==null?void 0:$.offsetWidth)||0,i=((g=n.value)==null?void 0:g.offsetHeight)||0;if(r.mode==="overflow"&&(["up","down"].includes(r.direction)&&i<o||["left","right"].includes(r.direction)&&a<d))return{"--text-scroll-width":`${d}px`,"--text-scroll-height":`${o}px`,animation:""};let s,c,p;return["up","down"].includes(r.direction)&&(s=o+i,c=s/r.speed||0,p=`up-scroll linear ${c}s infinite ${r.direction==="down"?"reverse":""}`),["left","right"].includes(r.direction)&&(s=d+a,c=s/r.speed||0,p=`left-scroll linear ${c}s infinite ${r.direction==="right"?"reverse":""}`),{"--text-scroll-width":`${d}px`,"--text-scroll-height":`${o}px`,animation:p}});return(d,o)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"scrollText",ref:l,class:e.normalizeClass(["f-scroll-text",`f-scroll-text--${r.type}`])},[e.createElementVNode("div",{ref_key:"textContent",ref:n,class:"text-content",style:e.normalizeStyle(e.unref(u))},[e.renderSlot(d.$slots,"default")],4)],2))}});v.install=function(t){t.component("FScrollText",v)};const rt={title:"scrollText 轮播文本",name:"scrollText",category:"数据展示",status:"100%",install(t){t.use(v)}},lt={class:"f-scroll-table__head"},nt=["onClick"],ot={key:1},Z=e.defineComponent({__name:"index",props:{name:{type:String,default:""},data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},border:{type:Boolean,default:!0},stripe:{type:Boolean,default:!0},wrap:{type:Boolean,default:!0},align:{type:String,default:"center"},cellStyle:{type:[Object,Function],default:()=>{}},maxHeight:{type:String,default:"auto"},mode:{type:String,default:"single"},pageSize:{type:Number,default:5},togglePage:{type:Number,default:1},toggleDur:{type:Number,default:5*1e3},emptyEmitDur:{type:Number,default:5*1e3},emitCondition:{type:Number,default:2},pageAnimateDur:{type:Number,default:300},mouseEvent:{type:Boolean,default:!0}},emits:["handle-toggle","cell-click"],setup(t,{expose:r}){const l=t,n=e.reactive({tableData:[],currData:[],pageData:[],currPage:1,toggleCount:0,intervalId:null,setTimeoutId:null,isStopToggle:!1,isEmpty:!1}),u=e.getCurrentInstance(),d=e.ref(),{deepCloneArr:o,setCurrData:a,setPageInterval:i,setEmptyTimeout:s,clearTimer:c,setPage:p}=et(n,l,u),{handleCellClick:y}=$e(u),{getRowClass:h,getCellClass:$,getTableStyle:g,getBodyStyle:_,getRowStyle:b,getExtraCellStyle:S,getCellStyle:m}=tt(n,l),B=x=>{x.style.opacity="0",x.style.gridTemplateRows="0fr"},f=(x,L)=>{x.offsetWidth,x.style.opacity="1",x.style.gridTemplateRows="1fr",L()},k=async x=>{x.style.opacity="1"},w=async(x,L)=>{x.style.opacity="0",x.style.gridTemplateRows="0fr",await new Promise(C=>{setTimeout(()=>{x.remove(),C(!0)},l.pageAnimateDur)}),L()};return e.watch(()=>l.data,x=>{n.tableData=o(x),a()},{immediate:!0,deep:!0}),e.onMounted(()=>{l.mouseEvent&&(d.value.addEventListener("mouseenter",()=>{c(!0,!0),n.isStopToggle=!0}),d.value.addEventListener("mouseleave",()=>{n.isStopToggle=!1,n.tableData.length?i():s()}))}),e.onBeforeUnmount(()=>{c()}),r({setPage:p}),(x,L)=>(e.openBlock(),e.createElementBlock("div",{ref:"scrollTable",class:e.normalizeClass(["f-scroll-table",{"is-border":l.border}]),style:e.normalizeStyle(e.unref(g)(l.columns))},[e.createElementVNode("div",lt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.columns,(C,V)=>(e.openBlock(),e.createElementBlock("div",{class:"f-scroll-table__cell",style:e.normalizeStyle(e.unref(S)(C)),key:V},e.toDisplayString(C.label),5))),128))]),e.createElementVNode("div",{ref_key:"scrollTable__body",ref:d,class:"f-scroll-table__content is-hidden-scrollbar",style:e.normalizeStyle(e.unref(_))},[e.createVNode(e.TransitionGroup,{tag:"div",css:!1,onBeforeEnter:B,onEnter:f,onBeforeLeave:k,onLeave:w},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.currData,(C,V)=>(e.openBlock(),e.createElementBlock("div",{class:"f-scroll-table__row-wrap",key:C},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(h)(C,V))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.columns,(N,T)=>(e.openBlock(),e.createElementBlock("div",{class:"f-scroll-table__cell",style:e.normalizeStyle([e.unref(S)(N),e.unref(m)(C,N.type==="index"?"_index_":N.prop,V,T)]),key:`${C[N.prop]}${T}`,onClick:R=>e.unref(y)(R,C,C[N.prop],V,T)},[N.type==="index"?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref($))},e.toDisplayString(C._index_||""),3)):N.type==="scroll"?(e.openBlock(),e.createElementBlock("div",ot,[e.createVNode(e.unref(v),e.normalizeProps(e.guardReactiveProps(N.scrollOption)),{default:e.withCtx(()=>[e.createElementVNode("div",null,e.toDisplayString(C[N.prop]),1)]),_:2},1040)])):N.slot?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref($))},[e.renderSlot(x.$slots,N.slot,{params:{row:C,column:N.prop,$index:V}})],2)):(e.openBlock(),e.createElementBlock("div",{key:3,class:e.normalizeClass(e.unref($))},e.toDisplayString(C[N.prop]),3))],12,nt))),128))],2)]))),128))]),_:3})],4)],6))}}),lr="";Z.install=function(t){t.component("FScrollTable",Z)};const at={title:"scrollTable 轮播表格",name:"scrollTable",category:"数据展示",status:"100%",install(t){t.use(Z)}},it=e.defineComponent({name:"FProgress",props:{percent:{type:Number,default:0},color:{type:Array,default:()=>[]},duration:{type:Number,default:.5}},setup(t,{slots:r}){const l=["#d1d5db","#3b82f6","white"];let n=e.computed(()=>W(t.color)?P(l,t.color):l);return{getProgressStyle:e.computed(()=>({"--bgc":n.value[0],"--progress-color":n.value[1],"--progress-text-color":n.value[2],"--duration":`${t.duration}s`}))}}});function st(t,r,l,n,u,d){return e.openBlock(),e.createElementBlock("div",{class:"f-progress",style:e.normalizeStyle(t.getProgressStyle)},[e.createElementVNode("div",{class:"progress-inner",style:e.normalizeStyle({width:`${t.percent}%`})},[e.renderSlot(t.$slots,"default",{percent:t.percent},()=>[e.createElementVNode("span",null,e.toDisplayString(t.percent?`${t.percent}%`:""),1)])],4)],4)}const F=pe(it,[["render",st]]);F.install=function(t){t.component(F.name,F)};const ct={title:"progress 进度条",name:"progress",category:"数据展示",status:"100%",install(t){t.use(F)}},dt={class:"f-digital-scroll"},ut={class:"f-digital-scroll__list"},ft={class:"f-digital-scroll__point"},J=e.defineComponent({__name:"index",props:{number:{type:Number,default:0},digit:{type:Number,default:2}},setup(t){const r=t;let l=e.reactive({stringList:[]});const n=d=>{let o=RegExp(`^\\d+(?:\\.\\d{0,${r.digit}})?`),i=Number(d.toString().match(o)).toString(),s=i.indexOf(".");for(s<0&&(s=i.length,i+=".");i.length<=s+r.digit;)i+="0";return i.split("")},u=e.computed(()=>function(d){return{top:`-${Number(d)*100}%`}});return e.onMounted(()=>{l.stringList=n(r.number)}),e.watch(()=>r.number,d=>{l.stringList=n(r.number)}),(d,o)=>(e.openBlock(),e.createElementBlock("div",dt,[e.createElementVNode("div",ut,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(l).stringList,(a,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["f-digital-scroll__item",{"is-small":a==="."}]),key:i},[e.withDirectives(e.createElementVNode("div",ft,".",512),[[e.vShow,a==="."]]),e.withDirectives(e.createElementVNode("div",{class:"f-digital-scroll__digital-list",style:e.normalizeStyle(e.unref(u)(a))},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(10,(s,c)=>e.createElementVNode("div",{class:"f-digital-scroll__digital-item",key:c},e.toDisplayString(c),1)),64))],4),[[e.vShow,a!=="."]])],2))),128))])]))}});J.install=function(t){t.component("FDigitalScroll",J)};const ht={title:"digitalScroll 滚动数字",name:"digitalScroll",category:"数据展示",status:"100%",install(t){t.use(J)}},gt={class:"f-scroll-rank"},mt={class:"f-scroll-rank__item-wrap"},pt={class:"f-scroll-rank__item-info"},yt={key:0,class:"f-scroll-rank__item-rank"},_t={class:"f-scroll-rank__item-name"},$t={class:"f-scroll-rank__item-info-right"},wt={key:0,class:"f-scroll-rank__item-percent"},kt={key:1,class:"f-scroll-rank__item-ratio"},bt={key:2,class:"f-scroll-rank__item-format"},xt={class:"f-scroll-rank__item-progress"},ee=e.defineComponent({__name:"index",props:{data:{type:Array,default:()=>[]},pageSize:{type:Number,default:5},togglePage:{type:Number,default:3},toggleDur:{type:Number,default:3*1e3},toggleDuration:{type:Number,default:300},maxValue:{type:Number},valueFormatter:{type:Function},order:{type:String,default:"reverse"},showRank:{type:Boolean,default:!0},showPercent:{type:Boolean,default:!0},showRatio:{type:Boolean,default:!0},color:{type:Array,default:()=>["#24293e","#024be4"]},progressDuration:{type:Number,default:.5}},setup(t){const r=t,l=e.ref();let n=e.reactive({dataList:[],currList:[],currPage:1,isEmpty:!1,intervalId:null});const u=g=>{let _=z(Q(g)),b=[];r.order==="default"?b=_:b=ze(_,"value",r.order),typeof r.valueFormatter=="function"&&(b=b.map((S,m)=>{var B;return S.formattedValue=(B=r.valueFormatter)==null?void 0:B.call(null,{name:S.name,value:S.value,maxValue:s.value,index:m}),S})),n.dataList=b},d=async(g,_,b)=>{let S=b;_.map(m=>m._index_=++S),n.currList.length?g===r.pageSize?n.currList=[..._]:(n.currList.push(..._),n.currList.splice(0,g)):n.currList.push(..._),e.nextTick(()=>{l.value&&(l.value.style.maxHeight=`${l.value.getBoundingClientRect().height}px`,l.value.style.height=`${l.value.getBoundingClientRect().height}px`)})},o=async()=>{if(n.dataList.length){n.isEmpty=!1;let g;r.togglePage>=r.pageSize?g=r.pageSize:g=r.togglePage;let _,b;n.currPage===1?(_=0,b=r.pageSize):(_=g*(n.currPage-2)+r.pageSize,b=g*(n.currPage-1)+r.pageSize);let S=n.dataList.slice(_,b);S.length?n.currPage===1?await d(r.pageSize,S,_):await d(g,S,_):(n.currPage=1,o()),a()}else i(),n.isEmpty=!0,n.currPage=1,n.currList=[]},a=()=>{n.intervalId===null&&(n.intervalId=setInterval(()=>{n.currPage+=1,o()},r.toggleDur))},i=()=>{n.intervalId&&(clearInterval(n.intervalId),n.intervalId=null)},s=e.computed(()=>{var g,_;return r.maxValue?r.maxValue:r.order==="normal"?((g=n.currList.at(-1))==null?void 0:g.value)||0:((_=n.currList[0])==null?void 0:_.value)||0}),c=e.computed(()=>function(g){let _,b=s.value;_=g/b;const S=(m,B)=>Math.round(m*Math.pow(10,B))/Math.pow(10,B);return typeof _=="number"?S(_*100,1):0}),p=g=>{g.style.opacity="0",g.style.gridTemplateRows="0fr"},y=(g,_)=>{g.offsetWidth,g.style.opacity="1",g.style.gridTemplateRows="1fr",_()},h=async g=>{g.style.opacity="1",g.style.margin="0"},$=async(g,_)=>{g.style.opacity="0",g.style.margin="0",g.style.gridTemplateRows="0fr",await new Promise(b=>{setTimeout(()=>{g.remove(),b(!0)},r.toggleDuration)}),_()};return e.onBeforeUnmount(()=>{i()}),e.watch(()=>r.data,g=>{u(g),o()},{deep:!0,immediate:!0}),(g,_)=>(e.openBlock(),e.createElementBlock("div",gt,[e.createElementVNode("div",{class:"f-scroll-rank__list",ref_key:"scrollRank",ref:l,style:e.normalizeStyle({"--page-animate-dur":`${r.toggleDuration}ms`})},[e.createVNode(e.TransitionGroup,{tag:"div",css:!1,onBeforeEnter:p,onEnter:y,onBeforeLeave:h,onLeave:$},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(n).currList,(b,S)=>(e.openBlock(),e.createElementBlock("div",{class:"f-scroll-rank__item",key:b},[e.createElementVNode("div",mt,[e.createElementVNode("div",pt,[r.showRank?(e.openBlock(),e.createElementBlock("span",yt,e.toDisplayString(`NO.${b._index_}`),1)):e.createCommentVNode("v-if",!0),e.createElementVNode("span",_t,e.toDisplayString(b.name||""),1),e.createElementVNode("div",$t,[r.showPercent?(e.openBlock(),e.createElementBlock("span",wt,e.toDisplayString(`${e.unref(c)(b.value)}%`),1)):e.createCommentVNode("v-if",!0),r.showRatio&&typeof r.valueFormatter!="function"?(e.openBlock(),e.createElementBlock("span",kt,e.toDisplayString(`${b.value} / ${e.unref(s)}`),1)):e.createCommentVNode("v-if",!0),typeof r.valueFormatter=="function"?(e.openBlock(),e.createElementBlock("span",bt,e.toDisplayString(`${b.formattedValue}`),1)):e.createCommentVNode("v-if",!0)])]),e.createElementVNode("div",xt,[e.createVNode(e.unref(F),{percent:e.unref(c)(b.value),color:r.color,duration:r.progressDuration},null,8,["percent","color","duration"])])])]))),128))]),_:1})],4)]))}});ee.install=function(t){t.component("FScrollRank",ee)};const St={title:"scrollRank 轮播排名表格",name:"scrollRank",category:"数据展示",status:"100%",install(t){t.use(ee)}},Ct={width:"100%",height:"100%"},Bt=e.createStaticVNode('<defs><radialGradient id="lineGradient" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="#fff" stop-opacity="1"></stop><stop offset="100%" stop-color="#fff" stop-opacity="0"></stop></radialGradient><radialGradient id="haloGradient" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="#fff" stop-opacity="0"></stop><stop offset="100%" stop-color="#fff" stop-opacity="1"></stop></radialGradient></defs>',1),Nt=["id","cx","cy"],Et=["values","dur"],Lt=["dur"],Vt=["id"],Dt=["xlink:href"],Pt=["xlink:href","fill","mask"],It=["fill","x","y"],Tt=["href","width","height","x","y"],zt=["id","d"],Rt=["id"],Ot=["r"],At=["dur","path"],Ft=["xlink:href","stroke-width","stroke"],Wt=["xlink:href","stroke-width","stroke","mask"],Mt=["from","to","dur"],Ht={key:2},te=e.defineComponent({__name:"index",props:{bgUrl:{type:String},points:{type:Array,default:()=>[]},paths:{type:Array,default:()=>[]},line:{type:Object,default:()=>({show:!0,type:"line",width:2,color:"#0080ff",orbitColor:"rgba(103, 224, 227, .2)",duration:2e3,radius:100,k:-.5,curvature:5})},halo:{type:Object,default:()=>({show:!0,duration:2e3,color:"#3891c2",radius:100})},title:{type:Object,default:()=>({show:!0,offest:[0,-10],color:"black",fontSize:16})},icon:{type:Object,default:()=>({show:!0,url:"",width:10,height:10})}},emits:["chart-click"],setup(t){const r=t,l=e.ref();let n;e.onMounted(()=>{n=e.getCurrentInstance()});const u=e.reactive({halo:{show:!0,duration:2e3,color:"#3891c2",radius:100},title:{show:!0,offest:[0,-10],color:"black",fontSize:16},icon:{show:!0,url:"",width:10,height:10},line:{show:!0,width:3,color:"#ffde93",orbitColor:"rgba(103, 224, 227, .2)",duration:700,radius:100,k:-.5,curvature:5}}),d=e.reactive({points:[],paths:[]}),o=m=>{let{offsetX:B,offsetY:f}=m;const k=(B/s.value).toFixed(2),w=(f/c.value).toFixed(2);n==null||n.emit("chart-click",k,w,m)},a=()=>{p(),y()},i=()=>{p(),y()},{width:s,height:c}=A(l,a,i),p=()=>{let m=z(Q(r.points));d.points=m.map((B,f)=>({...B,halo:P({},u.halo,z(r.halo),B.halo),title:P({},u.title,z(r.title),B.title),icon:P({},u.icon,z(r.icon),B.icon),key:`${B.coordinate.toString()}${f}`}))},y=()=>{let m=z(Q(r.paths));d.paths=m.map((B,f)=>{var ne,O;let{source:k,route:w,target:x,line:L}=B,C=P({},u.line,z(r.line),L),V=(ne=d.points.find(({name:D})=>D===k))==null?void 0:ne.coordinate,N=(O=d.points.find(({name:D})=>D===x))==null?void 0:O.coordinate,T=w?[V,...w,N]:[V,N];T=T.filter(D=>D!==void 0);let R=[];for(let D=0;D<T.length-1;D++){let Kt=T[D],U=h(Kt,T[D+1],C.k,C.curvature),Zt=`M${U[0].toString()} Q${U[1].toString()} ${U[2].toString()}`,Jt=`${U.toString()}`;R.push({path:U,d:Zt,key:Jt})}return{...B,line:C,routeList:R}})},h=(m,B,f,k)=>{let[w,x]=m,[L,C]=B;const[V,N]=[(w+L)/2,(x+C)/2];let R=me([w,x],[L,C])/k,ne=R/2,[O,D]=[V,N];do O+=ne,D=$(f,[V,N],O)[1];while(me([V,N],[O,D])<R);return[m,[O,D],B]};function $(m,[B,f],k){const w=f-m*B+m*k;return[k,w]}let g=e.computed(()=>function(m){return`M${m[0][0]*s.value},${m[0][1]*c.value} 
    Q${m[1][0]*s.value},${m[1][1]*c.value} 
    ${m[2][0]*s.value},${m[2][1]*c.value}`}),_=e.computed(()=>function(m){return`M${m[0][0]*s.value},${m[0][1]*c.value} 
    Q${m[1][0]*s.value},${m[1][1]*c.value} 
    ${m[2][0]*s.value},${m[2][1]*c.value}`}),b=e.computed(()=>function(m){return{x1:m[0][0]*s.value,y1:m[0][1]*c.value,x2:m[1][0]*s.value,y2:m[1][1]*c.value,x3:m[2][0]*s.value,y3:m[2][1]*c.value}});e.computed(()=>function(m){return`"M${m[0][0]*s.value},${m[0][1]*c.value} Q${m[1][0]*s.value},${m[1][1]*c.value} ${m[2][0]*s.value},${m[2][1]*c.value}"`});let S=e.computed(()=>function(m){return n?n.proxy.$refs[m][0].getTotalLength():0});return e.watch(()=>r,m=>{p(),y()},{deep:!0,immediate:!0}),(m,B)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"flightChart",ref:l,class:"f-flight-chart"},[e.createElementVNode("div",{class:"f-flight-chart__wrap",style:e.normalizeStyle(`background-image: url(${r.bgUrl})`),onClick:o},[(e.openBlock(),e.createElementBlock("svg",Ct,[Bt,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.points,(f,k)=>(e.openBlock(),e.createElementBlock("g",{key:f.key},[e.createElementVNode("defs",null,[f.halo.show?(e.openBlock(),e.createElementBlock("circle",{key:0,id:`halo${f.key}`,cx:f.coordinate[0]*e.unref(s),cy:f.coordinate[1]*e.unref(c)},[e.createElementVNode("animate",{attributeName:"r",values:`1;${f.halo.radius}`,dur:`${f.halo.duration}ms`,repeatCount:"indefinite"},null,8,Et),e.createElementVNode("animate",{attributeName:"opacity",values:"1;0",dur:`${f.halo.duration}ms`,repeatCount:"indefinite"},null,8,Lt)],8,Nt)):e.createCommentVNode("v-if",!0),e.createElementVNode("mask",{id:`mask${f.key}`},[e.createElementVNode("use",{"xlink:href":`#halo${f.key}`,fill:"url(#haloGradient)"},null,8,Dt)],8,Vt)]),f.halo.show?(e.openBlock(),e.createElementBlock("use",{key:0,"xlink:href":`#halo${f.key}`,fill:f.halo.color,mask:`url(#mask${f.key})`},null,8,Pt)):e.createCommentVNode("v-if",!0),f.title.show?(e.openBlock(),e.createElementBlock("text",{key:1,class:"point__title",style:e.normalizeStyle({fontSize:`${f.title.fontSize}px`}),fill:f.title.color,x:f.coordinate[0]*e.unref(s)+f.title.offest[0],y:f.coordinate[1]*e.unref(c)+f.title.offest[1]},e.toDisplayString(f.name),13,It)):e.createCommentVNode("v-if",!0),f.icon.show?(e.openBlock(),e.createElementBlock("image",{key:2,class:"point__icon",href:f.icon.url,width:f.icon.width,height:f.icon.height,x:f.coordinate[0]*e.unref(s)-f.icon.width/2,y:f.coordinate[1]*e.unref(c)-f.icon.height/2},null,8,Tt)):e.createCommentVNode("v-if",!0)]))),128)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.paths,(f,k)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.routeList,(w,x)=>(e.openBlock(),e.createElementBlock("g",null,[e.createElementVNode("defs",null,[e.createElementVNode("path",{id:w.key,ref_for:!0,ref:w.key,d:e.unref(g)(w.path),fill:"transparent",style:{overflow:"hidden"}},null,8,zt),f.line.show&&!f.line.slot?(e.openBlock(),e.createElementBlock("mask",{key:0,id:`mask${w.key}`},[e.createElementVNode("circle",{cx:"0",cy:"0",r:f.line.radius,fill:"url(#lineGradient)"},[e.createElementVNode("animateMotion",{dur:`${f.line.duration}ms`,path:e.unref(g)(w.path),rotate:"auto",repeatCount:"indefinite"},null,8,At)],8,Ot)],8,Rt)):e.createCommentVNode("v-if",!0)]),f.line.show?(e.openBlock(),e.createElementBlock("use",{key:0,"xlink:href":`#${w.key}`,"stroke-width":f.line.width,stroke:f.line.orbitColor},null,8,Ft)):e.createCommentVNode("v-if",!0),f.line.show&&!f.line.slot?(e.openBlock(),e.createElementBlock("use",{key:1,"xlink:href":`#${w.key}`,"stroke-width":f.line.width,stroke:f.line.color,mask:`url(#mask${w.key})`},[e.createElementVNode("animate",{attributeName:"stroke-dasharray",from:`0, ${e.unref(S)(w.key)}`,to:`${e.unref(S)(w.key)}, 0`,dur:`${f.line.duration}ms`,repeatCount:"indefinite"},null,8,Mt)],8,Wt)):e.createCommentVNode("v-if",!0),f.line.show&&f.line.slot?(e.openBlock(),e.createElementBlock("g",Ht,[e.renderSlot(m.$slots,f.line.slot,{path:e.unref(_)(w.path),pathArr:e.unref(b)(w.path),totalLength:e.unref(S)(w.key),line:f.line})])):e.createCommentVNode("v-if",!0)]))),256))],64))),256))]))],4)],512))}}),nr="";te.install=function(t){t.component("FFlightChart",te)};const Xt={title:"flightChart 飞线图",name:"flightChart",category:"图表",status:"100%",install(t){t.use(te)}},Yt={data:{type:Array,default:()=>[]},estimatedItemSize:{type:Number,required:!0},bufferScale:{type:Number,default:1},height:{type:String,default:"100%"},autoScroll:{type:Boolean,default:!1},scrollRow:{type:Number,default:1},scrollDistance:{type:Number},scrollInterval:{type:Number,default:100},stopTime:{type:Number,default:10*1e3}},vt=["id"],re=e.defineComponent({__name:"index",props:Yt,setup(t){const r=t,l=e.ref(null),n=e.ref(null),u=e.ref(null),d=e.ref(null),o=e.reactive({positions:[],screenHeight:0,start:0,end:0,isMouseHover:!1,intervalID:null});e.onBeforeMount(()=>{a()}),e.onMounted(()=>{o.screenHeight=l.value.clientHeight,o.start=0,o.end=o.start+p.value,S(),B()}),e.onUpdated(()=>{e.nextTick(()=>{var k,w;if(!d.value||!((k=d.value)!=null&&k.length))return;_();let f=(w=o.positions.at(-1))==null?void 0:w.bottom;n.value.style.height=`${f}px`,g()})}),e.onBeforeUnmount(()=>{m()}),e.watch(()=>r.data,()=>{a()});const a=()=>{o.positions=r.data.map((f,k)=>({index:k,height:r.estimatedItemSize,top:k*r.estimatedItemSize,bottom:(k+1)*r.estimatedItemSize}))},i=(f=0)=>s(o.positions,f),s=(f,k)=>{let w=0,x=f.length-1,L=null;for(;w<=x;){let C=parseInt((w+x)/2+""),V=f[C].bottom;if(V===k)return C+1;V<k?w=C+1:V>k&&((L===null||L>C)&&(L=C),x=x-1)}return L},c=e.computed(()=>r.data.map((f,k)=>({_index_:k,...f}))),p=e.computed(()=>Math.ceil(o.screenHeight/r.estimatedItemSize)),y=e.computed(()=>Math.min(o.start,r.bufferScale*p.value)),h=e.computed(()=>Math.min(r.data.length-o.end,r.bufferScale*p.value)),$=e.computed(()=>{let f=o.start-y.value,k=o.end+h.value;return c.value.slice(f,k)}),g=()=>{let f=0;if(o.start>=1){let k=o.positions[o.start].top-(o.positions[o.start-y.value]?o.positions[o.start-y.value].top:0);f=o.positions[o.start-1].bottom-k}else f=0;u.value.style.transform=`translate3d(0,${f}px,0)`},_=()=>{if(d.value)for(let f=0;f<d.value.length;f++){let k=d.value[f],x=k.getBoundingClientRect().height,L=+k.id,V=o.positions[L].height-x;if(V){o.positions[L].bottom=o.positions[L].bottom-V,o.positions[L].height=x;for(let N=L+1;N<o.positions.length;N++)o.positions[N].top=o.positions[N-1].bottom,o.positions[N].bottom=o.positions[N].bottom-V}}},b=()=>{let f=l.value.scrollTop;o.start=i(f),o.end=o.start+p.value,g()},S=()=>{o.intervalID===null&&r.autoScroll&&!o.isMouseHover&&(o.intervalID=setInterval(()=>{if(l.value){let f=0;if(r.scrollDistance&&(f=r.scrollDistance),r.scrollRow&&f===0){let k=0;for(let w=0;w<r.scrollRow;w++)k+=o.positions[o.start+w].height;f=k}if(Math.abs(l.value.scrollHeight-l.value.clientHeight-l.value.scrollTop)>=1){let k=l.value.scrollTop+f;l.value.scrollTo({top:k,behavior:"smooth"})}else m(),setTimeout(()=>{l.value.scrollTo({top:0,behavior:"instant"}),setTimeout(()=>{S()},500)},r.stopTime)}},r.scrollInterval))},m=()=>{o.intervalID&&(clearInterval(o.intervalID),o.intervalID=null)},B=()=>{l.value&&(l.value.addEventListener("mouseenter",()=>{m(),o.isMouseHover=!0}),l.value.addEventListener("mouseleave",()=>{o.isMouseHover=!1,S()}))};return(f,k)=>(e.openBlock(),e.createElementBlock("div",{class:"f-virtual-list",ref_key:"virtualList",ref:l,style:e.normalizeStyle({height:f.height}),onScroll:k[0]||(k[0]=w=>b())},[e.createElementVNode("div",{class:"f-virtual-list__space",ref_key:"virtualList__space",ref:n},null,512),e.createElementVNode("div",{class:"f-virtual-list__content",ref_key:"virtualList__content",ref:u},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref($),w=>(e.openBlock(),e.createElementBlock("div",{class:"f-virtual-list__item",ref_for:!0,ref_key:"virtualList__item",ref:d,id:`${w._index_}`},[e.renderSlot(f.$slots,"default",{ref_for:!0,ref:"slot",params:{row:w,$index:w._index_}})],8,vt))),256))],512)],36))}});re.install=function(t){t.component("FVirtualList",re)};const qt={title:"virtualList 虚拟列表",name:"virtualList",category:"数据展示",status:"100%",install(t){t.use(re)}},Ut={currLevel:{type:Number,default:0},maxLevel:{type:Number},shape:{type:String,default:"rect"},waterShape:{type:String,default:"wave"},background:{type:String,default:"transparent"},borderWidth:{type:Number,default:10},borderColors:{type:Array,default:["#294d99","#294d99"]},showCenterCircle:{type:Boolean,default:!0},centerCircleRadius:{type:Number,default:50},lineOption:{type:Array,default:()=>[]},waveOption:{type:Array,default:()=>[{offestTop:0,waveScale:15,waveDirection:"right",waveDuration:10*1e3,begin:0,waveColor:"#4579e2"}]},textOption:{type:Object,default:()=>({show:!0,offest:[0,0],fontSize:22,color:"white"})}},Gt=(t,r,l,n,u)=>{let o=P({},{offestTop:0,waveScale:15,waveDirection:"right",waveDuration:1e4,begin:0,waveColor:"#4579e2"},r),a=o.waveScale,i=4*a,s=10*a,c=Math.ceil(l/s||0);if(!c||!u)return;let p=n-i,y=p*(1-u),h=3*a,$=1*a,g=8*a,_=4*a,b=`m 0 ${y+o.offestTop} c ${h} ${-$}, ${g} ${-_}, ${s} 0`,S=`s${g} ${-_}, ${s} 0`,m=`s ${s-h} ${$}, ${s} 0`,B=`v ${p*u+i} H 0`,f="";for(let L=0;L<c-1;L++)f=`${f}${S}${m}`;let k=`${b}${m}${f}${B}`,w=o.waveDirection==="left"?"0 0":`${-(2*s)} 0`,x=o.waveDirection==="left"?`${-(2*s)} 0`:"0 0";return e.createVNode("path",{class:t.e("wave"),d:k,fill:o.waveColor},[e.createVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"translate",begin:o.begin?`${o.begin}ms`:0,from:w,to:x,dur:`${o.waveDuration}ms`,repeatCount:"indefinite"},null)])};function le(t,r,l){let n=t;return r&&(n+=`__${r}`),l&&(n+=`--${l}`),n}function Qt(t,r=!1){const l=r?`.f-${t}`:`f-${t}`;return{b:()=>le(l),e:a=>a?le(l,a):"",m:a=>a?le(l,"",a):"",em:(a,i)=>a&&i?le(l,a,i):""}}const q=e.defineComponent({name:"FLiquidChart",props:Ut,setup(t,r){const l=e.ref(),n=Qt("liquid-chart"),{width:u,height:d,initWH:o}=A(l),a=()=>{let h=t.borderWidth/2,$=`${h},0`,g=`${h},${d.value-h}`,_=`${u.value-h},${d.value-h}`,b=`${u.value-h},0`;return e.createVNode("svg",{class:n.e("rect-wrap"),style:{background:t.background}},[Array.from({length:4}).map((S,m)=>e.createVNode("path",{class:n.e("top-border"),d:`M ${h},${0+m*4} ${u.value-h},${0+m*4}`,fill:"none","stroke-dasharray":"20 10",stroke:t.borderColors[1],"stroke-width":1},null)),e.createVNode("path",{d:`M ${$} ${g} ${_} ${b}`,fill:"none",stroke:t.borderColors[0],"stroke-width":t.borderWidth},null)])};let i=e.computed(()=>{let h=.5;return t.currLevel||(h=0),t.maxLevel?(h=t.currLevel/t.maxLevel,h>1?1:h):h});const s=e.computed(()=>({left:`${t.borderWidth}px`,width:`calc(100% - ${t.borderWidth*2}px)`,height:`calc(100% - ${t.borderWidth}px)`})),c=()=>e.createVNode("svg",{class:n.e("wave-wrap"),style:{...s.value}},[t.waveOption.map(h=>Gt(n,h,u.value,d.value,i.value)),y()]),p=()=>{let $=P({},{show:!0,offest:[0,0],fontSize:18,color:"white"},t.textOption);if(!$.show)return;let g=$.text,_=g?g.replace("{level}",String(t.currLevel)).replace("{percent}",String((i.value*100).toFixed(2))):t.currLevel,b=e.computed(()=>({color:$.color,fontSize:`${$.fontSize}px`,transform:`translate(calc(-50% + ${$.offest[0]}px), calc(-50% + ${$.offest[1]}px))`}));return e.createVNode("text",{class:n.e("center-text"),style:{...b.value}},[_])},y=()=>{if(t.maxLevel)return t.lineOption.map(h=>{let $=(1-h.level/t.maxLevel)*d.value,g=h.text?h.text.replace("{level}",String(h.level)):h.level;return e.createVNode(e.Fragment,null,[e.createVNode("path",{class:n.e("line"),d:`M 0 ${$},H ${u.value}`,fill:"none","stroke-dasharray":"20 10",stroke:h.color,"stroke-width":1},null),e.createVNode("text",{class:n.e("line-text"),x:u.value/2,y:$,fill:h.color},[g])])})};return r.expose({resize:o}),()=>e.createVNode("div",{ref:l,class:n.b()},[t.shape==="rect"?a():e.createVNode("div",null,null),t.waterShape==="wave"?c():e.createVNode("div",null,null),p()])}});q.install=function(t){t.component(q.name,q)};const we=[Oe,Ae,Fe,Ye,Ue,Je,at,rt,ct,ht,St,Xt,qt,{title:"liquidChart 水位图",name:"liquidChart",category:"图表",status:"100%",install(t){t.use(q)}}],jt={version:"1.0.12",install(t){we.forEach(r=>t.use(r))}};E.BorderBox1=M,E.BorderBox2=H,E.DigitalScroll=J,E.DynamicParticle=K,E.FlightChart=te,E.LiquidChart=q,E.Loading1=X,E.Loading2=Y,E.Progress=F,E.ScreenContainer=j,E.ScrollRank=ee,E.ScrollTable=Z,E.ScrollText=v,E.VirtualList=re,E.default=jt,E.installs=we,Object.defineProperties(E,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
