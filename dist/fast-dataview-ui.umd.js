(function(w,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(w=typeof globalThis<"u"?globalThis:w||self,t(w["fast-dataview-ui"]=w["fast-dataview-ui"]||{},w.Vue))})(this,function(w,t){"use strict";const de={size:{type:Number},color:{type:String}},D=t.defineComponent({name:"FIcon",props:de,setup(e,{slots:n}){return t.computed(()=>!e.size&&!e.color?{}:{...e.size?{"font-size":e.size+"px"}:{},...e.color?{color:e.color}:{}}),()=>t.createVNode("div",{class:"f-icon",style:{border:"1px solid black"}},[t.renderSlot(n,"default")])}});D.install=function(e){e.component(D.name,D)};const ue={title:"Icon 图标",category:"装饰",status:"20%",install(e){e.use(D)}};function ge(e,n){const l=window.MutationObserver,r=new l(n);return r.observe(e,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),r}var j;const v=typeof window<"u",fe=e=>typeof e=="string",U=()=>{};v&&((j=window==null?void 0:window.navigator)!=null&&j.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Q(e){return typeof e=="function"?e():t.unref(e)}function he(e,n){function l(...r){return new Promise((s,d)=>{Promise.resolve(e(()=>n.apply(this,r),{fn:n,thisArg:this,args:r})).then(s).catch(d)})}return l}function me(e,n={}){let l,r,s=U;const d=o=>{clearTimeout(o),s(),s=U};return o=>{const a=Q(e),i=Q(n.maxWait);return l&&d(l),a<=0||i!==void 0&&i<=0?(r&&(d(r),r=null),Promise.resolve(o())):new Promise((c,f)=>{s=n.rejectOnCancel?f:c,i&&!r&&(r=setTimeout(()=>{l&&d(l),r=null,c(o())},i)),l=setTimeout(()=>{r&&d(r),r=null,c(o())},a)})}}function pe(e){return e}function ye(e){return t.getCurrentScope()?(t.onScopeDispose(e),!0):!1}function we(e,n=200,l={}){return he(me(n,l),e)}function be(e){var n;const l=Q(e);return(n=l==null?void 0:l.$el)!=null?n:l}const $e=v?window:void 0;function _e(...e){let n,l,r,s;if(fe(e[0])||Array.isArray(e[0])?([l,r,s]=e,n=$e):[n,l,r,s]=e,!n)return U;Array.isArray(l)||(l=[l]),Array.isArray(r)||(r=[r]);const d=[],u=()=>{d.forEach(c=>c()),d.length=0},o=(c,f,g)=>(c.addEventListener(f,g,s),()=>c.removeEventListener(f,g,s)),a=t.watch(()=>be(n),c=>{u(),c&&d.push(...l.flatMap(f=>r.map(g=>o(c,f,g))))},{immediate:!0,flush:"post"}),i=()=>{a(),u()};return ye(i),i}const q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G="__vueuse_ssr_handlers__";q[G]=q[G]||{},q[G];var ee;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(ee||(ee={}));var Ce=Object.defineProperty,te=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,ne=(e,n,l)=>n in e?Ce(e,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[n]=l,ke=(e,n)=>{for(var l in n||(n={}))Se.call(n,l)&&ne(e,l,n[l]);if(te)for(var l of te(n))xe.call(n,l)&&ne(e,l,n[l]);return e};ke({linear:pe},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const W=(e,n,l,r)=>{const s=t.ref(0),d=t.ref(0),u=t.ref(0),o=t.ref(0);let a,i=null,c=null;const f=(p=!0)=>new Promise(y=>{t.nextTick(()=>{c=e.value,s.value=e.value?e.value.clientWidth:0,d.value=e.value?e.value.clientHeight:0,u.value=c?c.getBoundingClientRect().width:0,o.value=c?c.getBoundingClientRect().height:0,e.value?(!s.value||!d.value)&&console.warn("Component width or height is 0px"):console.warn("Failed to get dom node"),typeof n=="function"&&p&&n(),y(!0)})}),g=()=>{i=ge(c,a),_e(window,"resize",a)},m=()=>{i&&(i.disconnect(),i.takeRecords(),i=null)},h=async()=>{await f(!1),a=we(f,200),g(),typeof l=="function"&&l()};return t.onMounted(()=>{h()}),t.onUnmounted(()=>{m()}),{width:s,height:d,afterWidth:u,afterHeight:o,initWH:f}},le={color:{type:Array,default:()=>[]},backgroundColor:{type:String,default:"transparent"},strokeWidth:{type:Number},title:{type:String,default:""},duration:{type:Number,default:2}},I=Object.assign,T=e=>Array.isArray(e)&&e.length,re=e=>Array.isArray(e)&&e||[],B=e=>e>=0?e:0,Z=(e,n=new WeakMap)=>{if(e===null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(typeof e!="object")return e;if(n.get(e))return n.get(e);let l=new e.constructor;n.set(e,l);for(let r in e)e.hasOwnProperty(r)&&(l[r]=Z(e[r],n));return l},N=t.defineComponent({name:"FBorderBox1",props:le,setup(e,{slots:n}){const l=t.ref(null),r=["rgba(46, 96, 153,0.85)","rgba(71, 196, 245,0.85)"];let s=t.computed(()=>T(e.color)?I(r,e.color):r);const{width:d,height:u,initWH:o}=W(l);return{width:d,height:u,initWH:o,borderBox1:l,defaultColor:r,realColor:s}},render(){const{$slots:e,width:n,height:l,backgroundColor:r,strokeWidth:s,realColor:d,title:u}=this,o=20;let a=s||2,i=B(n-a-2),c=B(l-a-2);return t.createVNode("div",{ref:"borderBox1",class:"f-border-box-1"},[t.createVNode("svg",{class:"f-svg-container",width:i,height:c},[t.createVNode("polygon",{fill:r,stroke:d[0],"stroke-width":a,points:`
            ${o} ${a}, ${i-o} ${a}, ${i-a} ${o}, ${i-a} ${c-o}, ${i-o} ${c},
            ${o} ${c}, ${a} ${c-o}, ${a} ${o}
          `},null),t.createVNode("polyline",{stroke:d[1],"stroke-width":a+1,points:`
            ${o-8} 0,0 ${o-8}
          `},null),t.createVNode("polyline",{stroke:d[1],"stroke-width":a+1,points:`
            ${i} ${c-o+8}, ${i-o+8+a} ${c}
          `},null),t.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":a+2,points:`
            ${a} ${o+15}, ${a} ${o}, ${o} ${a} , ${o+15} ${a}
          `},null),t.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":a+2,points:`
           ${o+15} ${c}, ${o}  ${c}, ${a} ${c-o}, ${a} ${c-o-15}
          `},null),t.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":a+2,points:`
           ${i-o-15} ${a}, ${i-o} ${a}, ${i-a} ${o}, ${i-a} ${o+15}
          `},null),t.createVNode("polyline",{fill:"none",stroke:d[1],"stroke-width":a+2,points:`
          ${i-o-15} ${c}, ${i-o} ${c}, ${i-a} ${c-o}, ${i-a} ${c-o-15}
          `},null),u?t.createVNode("polygon",{fill:"rgba(33, 173, 238,0.1)",points:`
            ${o} ${a}, ${i-o} ${a}, ${i-a} ${o}, ${i-a} ${o+15}, ${a} ${o+15},
            ${a} ${o}
          `},null):null,u?t.createVNode("text",{x:"30",y:"25","font-size":"16","font-weight":"bold",fill:"#279fc7"},[u]):null]),t.createVNode("div",{class:"f-border-box-content"},[t.createVNode("div",null,[t.renderSlot(e,"default")])])])}});N.install=function(e){e.component(N.name,N)};const Be={title:"border 边框",category:"边框",status:"20%",install(e){e.use(N)}},z=t.defineComponent({name:"FBorderBox2",props:le,setup(e,{slots:n}){const l=t.ref(null),r=["white"];let s=t.computed(()=>T(e.color)?I(r,e.color):r);const{width:d,height:u,initWH:o}=W(l);return{width:d,height:u,initWH:o,borderBox2:l,defaultColor:r,realColor:s}},render(){const{$slots:e,width:n,height:l,backgroundColor:r,strokeWidth:s,realColor:d,duration:u}=this;let o=s||3,a=B(o),i=B(o),c=B(n-o),f=B(o),g=B(n-o),m=B(l-o),h=B(o),p=B(l-o);return t.createVNode("div",{ref:"borderBox2",class:"f-border-box-2"},[t.createVNode("svg",{class:"f-svg-container",width:n,height:l},[t.createVNode("path",{class:"f-container-path",style:{"--duration":`${u}s`},stroke:d[0],"stroke-width":o,fill:r,d:`M ${a} ${i}, L ${c} ${f}, L ${g} ${m}, L ${h} ${p}, Z`},null)]),t.createVNode("div",{class:"f-border-box-content"},[t.renderSlot(e,"default")])])}});z.install=function(e){e.component(z.name,z)};const Pe={title:"border 边框",category:"边框",status:"20%",install(e){e.use(z)}},V=t.defineComponent({name:"FLoading1",props:{width:{type:String,default:"100px"},height:{type:String,default:"100px"},color:{type:Array,default:()=>[]},text:{type:String,default:""},duration:{type:Number,default:2}},setup(e,{slots:n}){const l=t.ref(null),r=["#4f29f0","#c3c8de","#414856"];let s=t.computed(()=>T(e.color)?I(r,e.color):r);const{width:d,height:u,initWH:o}=W(l);return{width:d,height:u,initWH:o,loading1:l,defaultColor:r,realColor:s}},render(){const{$slots:e,realColor:n,text:l,duration:r}=this;return t.createVNode("div",{ref:"loading1",class:"f-loading-1",style:{"--front-color":n[0],"--back-color":n[1],"--text-color":n[2],"--duration":`${r}s`}},[t.createVNode("svg",{class:"f-circle-outer",viewBox:"0 0 86 86"},[t.createVNode("circle",{class:"f-back",cx:"43",cy:"43",r:"40"},null),t.createVNode("circle",{class:"f-front",cx:"43",cy:"43",r:"40"},null)]),t.createVNode("svg",{class:"f-circle-middle",viewBox:"0 0 60 60"},[t.createVNode("circle",{class:"f-back",cx:"30",cy:"30",r:"27"},null),t.createVNode("circle",{class:"f-front",cx:"30",cy:"30",r:"27"},null)]),t.createVNode("svg",{class:"f-circle-inner",viewBox:"0 0 34 34"},[t.createVNode("circle",{class:"f-back",cx:"17",cy:"17",r:"14"},null),t.createVNode("circle",{class:"f-front",cx:"17",cy:"17",r:"14"},null)]),l?t.createVNode("div",{class:"f-loading-text","data-text":l},null):null])}});V.install=function(e){e.component(V.name,V)};const Ee={title:"loading 加载",category:"加载",status:"20%",install(e){e.use(V)}},De=t.defineComponent({name:"FLoading2",props:{width:{type:String,default:"100px"},height:{type:String,default:"100px"},color:{type:Array,default:()=>[]},text:{type:String,default:""},duration:{type:Number,default:.8}},setup(e,{slots:n}){const l=["#d1d5db","#3b82f6","#3b82f6"];let r=t.computed(()=>T(e.color)?I(l,e.color):l);return{getLoadingStyle:t.computed(()=>({width:e.width,height:e.height,color:r.value[2],"--border-color":r.value[0],"--border-top-color":r.value[1],"--duration":`${e.duration}s`}))}}}),oe=(e,n)=>{const l=e.__vccOpts||e;for(const[r,s]of n)l[r]=s;return l},Ie=t.createElementVNode("div",{class:"f-loading-round"},null,-1),Te={class:"loading-text"};function Ne(e,n,l,r,s,d){return t.openBlock(),t.createElementBlock("div",{class:"f-loading-2",style:t.normalizeStyle(e.getLoadingStyle)},[Ie,t.createElementVNode("div",Te,[t.renderSlot(e.$slots,"default",{},()=>[t.createElementVNode("div",null,t.toDisplayString(e.text),1)])])],4)}const A=oe(De,[["render",Ne]]);A.install=function(e){e.component(A.name,A)};const ze={title:"loading 加载",category:"加载",status:"20%",install(e){e.use(A)}},Ve={width:{type:Number,default:1920},height:{type:Number,default:1080},onAfterResize:{type:Function,default:()=>{}}},Ae={class:"f-screen-container"},H=t.defineComponent({name:"index",props:Ve,setup(e){const n=e,l=t.ref(null),r=t.reactive({width:0,height:0,screenWidth:0,screenHeight:0,scaleX:1,scaleY:1,isReady:!1});let s=t.ref(1),d=t.ref(1);t.provide("scaleX",s),t.provide("scaleY",d);const u=()=>{n.width&&n.height?(r.width=n.width,r.height=n.height):(r.width=l.value.clientWidth,r.height=l.value.clientHeight);const{width:f,height:g}=window.screen;r.screenWidth=f,r.screenHeight=g},o=()=>{r.width&&r.height?(l.value.style.width=`${r.width}px`,l.value.style.height=`${r.height}px`):(l.value.style.width=`${r.screenWidth}px`,l.value.style.height=`${r.screenHeight}px`)},a=()=>{const f=document.body.clientWidth,g=document.body.clientHeight,m=r.width||r.screenWidth,h=r.height||r.screenHeight,p=f/+m,y=g/+h;s.value=p,d.value=y,l.value.style.transform=`scale(${p}, ${y})`};return W(l,()=>{a()},()=>{u(),o(),a(),n.onAfterResize(),r.isReady=!0}),(f,g)=>(t.openBlock(),t.createElementBlock("div",Ae,[t.createElementVNode("div",{class:"f-screen-inner",ref_key:"screenContainer",ref:l},[r.isReady?t.renderSlot(f.$slots,"default",{key:0}):t.createCommentVNode("",!0)],512)]))}}),gt="";H.install=function(e){e.component("FScreenContainer",H)};const Re={title:"container 容器",category:"容器",status:"20%",install(e){e.use(H)}},Le={width:{type:Number,default:400},height:{type:Number,default:400},radius:{type:Number,default:1.2},strength:{type:Number,default:2},src:{type:String}},Oe=1/30;class K{constructor(n,l,r,s,d,u,o){this.x=Math.random()*n>>0,this.y=Math.random()*l>>0,this.targetX=r,this.targetY=s,this.time=d,this.radius=u,this.colors=o,this.opacity=0}draw(n){n.fillStyle=`${this.colors}`,n.fillRect(this.x,this.y,this.radius*2,this.radius*2),n.fill()}update(n,l,r,s){if(this.distanceX=this.targetX-this.x,this.distanceY=this.targetY-this.y,this.velocityX=this.distanceX/this.time,this.velocityY=this.distanceY/this.time,r&&s){let d=r-this.x,u=s-this.y,o=Math.sqrt(d**2+u**2),a=n/o;a=a>7?7:a;let i=Math.atan2(u,d),c=Math.cos(i),f=Math.sin(i),g=c*a*-l,m=f*a*-l;this.velocityX+=g,this.velocityY+=m}this.x+=this.velocityX,this.y+=this.velocityY,this.opacity<1&&(this.opacity+=Oe)}change(n,l,r){this.targetX=n,this.targetY=l,this.colors=r}}const ae=30;class We{constructor(n,l,r){this.radius=l,this.strength=r,this.canvasEle=n,this.ctx=n.getContext("2d"),this.width=n.width,this.height=n.height,this.particleArr=[],this.canvasEle.onmouseleave=()=>{this.mouseX=0,this.mouseY=0}}changeImg(n){if(this.particleArr.length){let l=n.particleData,r=l.length,s=this.particleArr,d=s.length;for(let o=0;o<r;o++){const{targetX:a,targetY:i,colors:c}=l[o];s[o]?s[o].change(a,i,c):s[o]=new K(this.width,this.height,a,i,ae,this.radius,c)}r<d&&(this.particleArr=s.splice(0,r)),s=this.particleArr;let u=s.length;for(;u;){let o=~~(Math.random()*u--),a=s[o],{targetX:i,targetY:c,colors:f}=a;a.targetX=s[u].targetX,a.targetY=s[u].targetY,a.colors=s[u].colors,s[u].targetX=i,s[u].targetY=c,s[u].colors=f}}else this.particleArr=n.particleData.map(l=>new K(this.width,this.height,l.targetX,l.targetY,ae,this.radius,l.colors))}drawCanvas(){this.ctx.clearRect(0,0,this.width,this.height),this.particleArr.forEach(n=>{n.update(30,this.strength,this.mouseX,this.mouseY),n.draw(this.ctx)}),this.requestID=window.requestAnimationFrame(()=>this.drawCanvas())}}const He=30;class ie{constructor(n,l,r,s){this.src=n,this.width=l,this.height=r,this.particleData=[],this.radius=s}createParticleData(n=this.src){return new Promise((l,r)=>{let s=new Image;s.crossOrigin="",s.src=decodeURI(new URL(n,typeof document>"u"&&typeof location>"u"?new(require("url")).URL("file:"+__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("fast-dataview-ui.umd.js",document.baseURI).href).href),s.onload=()=>{const d=document.createElement("canvas"),u=d.getContext("2d"),o=this.width,a=this.height;d.width=o,d.height=a,u==null||u.drawImage(s,0,0,o,a);const i=u==null?void 0:u.getImageData(0,0,o,a).data;u==null||u.clearRect(0,0,this.width,this.height);for(let c=0;c<a;c+=5)for(let f=0;f<o;f+=5){const g=(f+c*o)*4,m=i[g+3];if(m==0)continue;const h=i[g],p=i[g+1],y=i[g+2];if(h+p+y+m){const P=new K(this.width,this.height,f,c,He,this.radius,`rgba(${h},${p},${y},${m})`);this.particleData.push(P)}}l(this.particleData)},s.onerror=()=>{r("图片转化成粒子失败")}})}}const Fe=["width","height"],F=t.defineComponent({name:"index",props:Le,setup(e,{expose:n}){const l=e;let r=t.inject("scaleX",t.ref(1)),s=t.inject("scaleY",t.ref(1));const d=t.ref(null),u=t.ref(null);let o=t.ref(),a=t.ref();const i=async f=>{a.value=new ie(f,l.width,l.height,l.radius),await a.value.createParticleData(),o.value.changeImg(a.value)},c=async()=>{a.value=new ie(l.src,l.width,l.height,l.radius),await a.value.createParticleData(),d.value&&(u.value=d.value.getContext("2d"),o.value=new We(d.value,l.radius,l.strength),d.value.addEventListener("mousemove",f=>{const{left:g,top:m}=d.value.getBoundingClientRect(),{clientX:h,clientY:p}=f;o.value.mouseX=(h-g)*(1/r.value),o.value.mouseY=(p-m)*(1/s.value)}),o.value.drawCanvas(),o.value.changeImg(a.value))};return t.onMounted(()=>{c()}),n({toggleImg:i}),(f,g)=>(t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("canvas",{ref_key:"canvasRef",ref:d,width:l.width,height:l.height},null,8,Fe)]))}});F.install=function(e){e.component("FDynamicParticle",F)};const Xe={title:"particle 粒子",category:"粒子",status:"20%",install(e){e.use(F)}};function Ye(e){return{handleToggle:l=>{e.emit("handleToggle",l)}}}function Me(e,n,l){const{handleToggle:r}=Ye(l),s=h=>{let p=re(h);return Z(p)},d=t.computed(()=>{if(n.mode==="page")return e.pageData[e.currPage-1]||[];if(n.mode==="single")return e.currData||[]}),u=()=>{if(n.mode==="page")if(e.tableData.length){let h=[],p=Math.ceil(e.tableData.length/n.pageSize);for(let y=1;y<=p;y++){let S=e.tableData.slice(y*n.pageSize-n.pageSize,y*n.pageSize);h.push(S)}e.pageData=h,h[e.currPage-1]||(e.currPage=1,e.toggleCount+=1,e.toggleCount>=n.emitCondition&&r(n.name))}else e.pageData=[[]],e.currPage=1,e.toggleCount=0,r(n.name)},o=()=>{e.intervalId===null&&!e.isStopToggle&&n.mode==="page"&&(e.intervalId=setInterval(()=>{e.pageData[e.currPage]?e.currPage+=1:(e.currPage=1,e.toggleCount+=1,e.toggleCount>=n.emitCondition&&r(n.name))},n.toggleDur))},a=(h=1)=>{g(),e.currPage=h,o()},i=async(h,p=1,y=[])=>{console.log("shiftLen",p),console.log("arr",h),h.push(...y),await new Promise(S=>setTimeout(S,300));for(let S=0;S<p;S++)h[S]={};h.splice(0,p)},c=async()=>{if(n.mode==="single")if(e.tableData.length){const h=Math.ceil((e.tableData.length-n.pageSize)/n.togglePage)+1;if(h===1&&(console.log("1"),e.currPage=1,e.toggleCount+=1,i(e.currData,n.pageSize,e.tableData.slice()),e.toggleCount>=n.emitCondition&&r(n.name)),h!==1&&e.currPage<=h&&(console.log("2"),e.currPage===1?(console.log("2-1"),e.currData=e.tableData.slice(0,n.pageSize)):(console.log("2-2"),console.log("start",n.pageSize-1+(e.currPage-2)*n.togglePage+1),console.log("end",n.pageSize-1+(e.currPage-1)*n.togglePage+1),i(e.currData,n.togglePage,e.tableData.slice(n.pageSize-1+(e.currPage-2)*n.togglePage+1,n.pageSize-1+(e.currPage-1)*n.togglePage+1)))),e.currPage>h){console.log("3"),e.currPage=1,e.toggleCount+=1,e.toggleCount>=n.emitCondition&&r(n.name),c();return}}else e.rowsHeight=[],e.currData=[],e.currPage=1,e.toggleCount=0,r(n.name)},f=()=>{e.intervalId===null&&!e.isStopToggle&&n.mode==="single"&&(e.intervalId=setInterval(()=>{e.currPage+=1,c()},n.toggleDur))},g=()=>{e.intervalId&&(clearInterval(e.intervalId),e.intervalId=null)};return{deepCloneArr:s,getCurrData:d,setPageData:u,setPageTimer:o,setPage:a,setCurrData:c,setToggleTimer:f,clearTimer:g,setIndex:h=>{h.map((p,y)=>p._index_=y+1)}}}function Ue(e,n){const l=t.computed(()=>function(o,a){const i=["f-scroll-table_row"];return n.stripe&&a%2===1&&i.push("f-scroll-table_row--striped"),n.wrap&&i.push("f-scroll-table_row--nowrap"),i}),r=t.computed(()=>{const o=["cell"];return n.wrap||o.push("cell--nowrap"),o}),s=t.computed(()=>({})),d=t.computed(()=>function(o){return{"max-height":e.rowsHeight[o]||"auto"}}),u=t.computed(()=>function(o,a,i,c){return typeof n.cellStyle=="function"?n.cellStyle.call(null,{rowIndex:i,columnIndex:c,row:o,column:a}):n.cellStyle||{}});return{getRowClass:l,getCellClass:r,getBodyStyle:s,getRowStyle:d,getCellStyle:u}}const Qe={class:"f-scroll-table_header-wrapper"},qe={class:"f-scroll-table_header",cellspacing:"0",cellpadding:"0",border:"0"},Ge=["width"],Ze={class:"cell"},Ke={class:"f-scroll-table_body",cellspacing:"0",cellpadding:"0",border:"0"},Je=["width"],X=t.defineComponent({name:"index",props:{name:{default:""},data:{default:()=>[]},columns:{default:()=>[]},border:{type:Boolean,default:!0},stripe:{type:Boolean,default:!0},wrap:{type:Boolean,default:!0},maxHeight:{default:"auto"},cellStyle:null,mode:{default:"single"},pageSize:{default:5},togglePage:{default:1},toggleDur:{default:5*1e3},emitCondition:{default:2}},setup(e,{expose:n}){const l=e,r=t.reactive({tableData:[],currData:[],pageData:[],currPage:1,toggleCount:0,intervalId:null,isStopToggle:!1,isAnimate:!1,rowsHeight:[]}),s=t.getCurrentInstance(),{deepCloneArr:d,getCurrData:u,setPageData:o,setPageTimer:a,setCurrData:i,setToggleTimer:c,setPage:f,setIndex:g}=Me(r,l,s),{getRowClass:m,getCellClass:h,getBodyStyle:p,getRowStyle:y,getCellStyle:S}=Ue(r,l);return t.watch(()=>l.data,P=>{r.tableData=d(P),g(r.tableData),o(),a(),i(),c()}),n({setPage:f}),(P,ce)=>(t.openBlock(),t.createElementBlock("div",{ref:"scrollTable",class:t.normalizeClass(["f-scroll-table",{"f-scroll-table--border":l.border}])},[t.createElementVNode("div",Qe,[t.createElementVNode("table",qe,[t.createElementVNode("colgroup",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.columns,(b,x)=>(t.openBlock(),t.createElementBlock("col",{width:b.width,key:x},null,8,Ge))),128))]),t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.columns,(b,x)=>(t.openBlock(),t.createElementBlock("td",{class:"f-scroll-table_cell",style:t.normalizeStyle({"max-width":b.width}),key:x},[t.createElementVNode("div",Ze,t.toDisplayString(b.label),1)],4))),128))])])])]),t.createElementVNode("div",{class:"f-scroll-table_body-wrapper is-hidden-scrollbar",ref:"bodyWrapper",style:t.normalizeStyle(t.unref(p))},[t.createElementVNode("table",Ke,[t.createElementVNode("colgroup",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.columns,(b,x)=>(t.openBlock(),t.createElementBlock("col",{width:b.width,key:x},null,8,Je))),128))]),t.createVNode(t.TransitionGroup,{tag:"tbody",name:"fade",class:"f-scroll-table_body-inner"},{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(u),(b,x)=>(t.openBlock(),t.createElementBlock("tr",{class:t.normalizeClass(t.unref(m)(b,x)),key:b},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.columns,(k,O)=>(t.openBlock(),t.createElementBlock("td",{class:"f-scroll-table_cell is-hidden-scrollbar",style:t.normalizeStyle({width:k.width,"max-width":k.width}),key:O},[k.slot?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(t.unref(h))},[t.renderSlot(P.$slots,k.slot,{params:{row:b,column:k.prop,$index:x}})],2)):k.type=="index"?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(t.unref(h)),style:t.normalizeStyle(t.unref(S)(b,k.prop,x,O))},t.toDisplayString(b._index_),7)):(t.openBlock(),t.createElementBlock("div",{key:2,class:t.normalizeClass(t.unref(h)),style:t.normalizeStyle(t.unref(S)(b,k.prop,x,O))},t.toDisplayString(b[k.prop]),7))],4))),128))],2))),128))]),_:3})])],4)],2))}});X.install=function(e){e.component("FScrollTable",X)};const je={title:"scrollTable 滚动表格",category:"数据展示",status:"20%",install(e){e.use(X)}},R=t.defineComponent({name:"index",props:{type:{default:"default"},direction:{default:"up"},speed:{default:60},mode:{default:"infinite"}},setup(e){const n=e,l=t.ref(),r=t.ref(),s=t.computed(()=>{var g,m,h,p;let d=((g=l.value)==null?void 0:g.offsetWidth)||0,u=((m=l.value)==null?void 0:m.offsetHeight)||0,o=((h=r.value)==null?void 0:h.offsetWidth)||0,a=((p=r.value)==null?void 0:p.offsetHeight)||0;if(n.mode==="overflow"&&(["up","down"].includes(n.direction)&&a<u||["left","right"].includes(n.direction)&&o<d))return{"--text-scroll-width":`${d}px`,"--text-scroll-height":`${u}px`,animation:""};let i,c,f;return["up","down"].includes(n.direction)&&(i=u+a,c=i/n.speed||0,f=`up-scroll linear ${c}s infinite ${n.direction==="down"?"reverse":""}`),["left","right"].includes(n.direction)&&(i=d+o,c=i/n.speed||0,f=`left-scroll linear ${c}s infinite ${n.direction==="right"?"reverse":""}`),{"--text-scroll-width":`${d}px`,"--text-scroll-height":`${u}px`,animation:f}});return(d,u)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"scrollText",ref:l,class:t.normalizeClass(["f-scroll-text",`f-scroll-text--${n.type}`])},[t.createElementVNode("div",{ref_key:"textContent",ref:r,class:"text-content",style:t.normalizeStyle(t.unref(s))},[t.renderSlot(d.$slots,"default")],4)],2))}});R.install=function(e){e.component("FScrollText",R)};const ve={title:"border 边框",category:"边框",status:"20%",install(e){e.use(R)}},et=t.defineComponent({name:"FProgress",props:{percent:{type:Number,default:0},color:{type:Array,default:()=>[]},duration:{type:Number,default:.5}},setup(e,{slots:n}){const l=["#d1d5db","#3b82f6","white"];let r=t.computed(()=>T(e.color)?I(l,e.color):l);return{getProgressStyle:t.computed(()=>({"--bgc":r.value[0],"--progress-color":r.value[1],"--progress-text-color":r.value[2],"--duration":`${e.duration}s`}))}}});function tt(e,n,l,r,s,d){return t.openBlock(),t.createElementBlock("div",{class:"f-progress",style:t.normalizeStyle(e.getProgressStyle)},[t.createElementVNode("div",{class:"progress-inner",style:t.normalizeStyle({width:`${e.percent}%`})},[t.renderSlot(e.$slots,"default",{percent:e.percent},()=>[t.createElementVNode("span",null,t.toDisplayString(e.percent?`${e.percent}%`:""),1)])],4)],4)}const L=oe(et,[["render",tt]]);L.install=function(e){e.component(L.name,L)};const nt={title:"progress 进度条",category:"进度条",status:"20%",install(e){e.use(L)}};function se(e){return{handleToggle:r=>{e.emit("handle-toggle",r)},handleCellClick:(r,s,d,u,o)=>{e.emit("cell-click",s,d,u,o,r)}}}function lt(e,n,l){const{handleToggle:r}=se(l),s=g=>{let m=re(g);return Z(m)},d=()=>{e.toggleCount+=1,e.toggleCount>=n.emitCondition&&r(n.name)},u=async(g,m,h)=>{let p=h;m.map(y=>y._index_=++p),e.currData.length?g===n.pageSize?e.currData=[...m]:(e.currData.push(...m),e.currData.splice(0,g)):e.currData.push(...m)},o=async()=>{if(e.tableData.length){c(!1,!0),e.isEmpty=!1;let g;n.mode==="single"?g=n.togglePage:g=n.pageSize;let m,h;e.currPage===1?(m=0,h=n.pageSize):(m=g*(e.currPage-2)+n.pageSize,h=g*(e.currPage-1)+n.pageSize);let p=e.tableData.slice(m,h);p.length?e.currPage===1&&e.toggleCount===0?u(n.pageSize,p,m):e.currPage===1?await u(n.pageSize,p,m):await u(g,p,m):(e.currPage=1,d(),o()),a()}else c(),e.currPage=1,e.currData=[],e.isEmpty=!0,i()},a=()=>{e.intervalId===null&&!e.isStopToggle&&(e.intervalId=setInterval(()=>{e.currPage+=1,o()},n.toggleDur))},i=()=>{e.setTimeoutId===null&&(e.setTimeoutId=setTimeout(()=>{r(n.name)},n.emptyEmitDur))},c=(g=!0,m=!0)=>{e.intervalId&&g&&(clearInterval(e.intervalId),e.intervalId=null),e.setTimeoutId&&m&&(clearTimeout(e.setTimeoutId),e.setTimeoutId=null)};return{deepCloneArr:s,setCurrData:o,setPageInterval:a,setEmptyTimeout:i,clearTimer:c,setPage:(g=1)=>{c(),e.currPage=g;let m;n.mode==="single"?m=n.togglePage:m=n.pageSize;let h=m*(e.currPage-1),p=m*(e.currPage-1)+n.pageSize,y=e.tableData.slice(h,p);y.length?(u(n.pageSize,y,h),a()):o(),e.tableData.length||i()}}}function rt(e,n){const l=t.computed(()=>function(i,c){const f=["f-scroll-table__row"];return n.stripe&&c%2===1&&f.push("f-scroll-table_row--striped"),f}),r=t.computed(()=>{const i=["cell"];return n.wrap?i.push("cell--wrap"):i.push("cell--nowrap"),i}),s=t.computed(()=>function(i){let c=i.reduce((f,g)=>f+=g.width,0);return{width:`${c}px`,"max-width":`${c}px`}}),d=t.computed(()=>({height:n.maxHeight||"auto","max-height":n.maxHeight||"auto","--page-animate-dur":`${n.pageAnimateDur}ms`})),u=t.computed(()=>function(i){return{}}),o=t.computed(()=>function(i){return{width:`${i.width}px`,"max-width":`${i.width}px`,"text-align":i.align||n.align||"start"}}),a=t.computed(()=>function(i,c,f,g){return typeof n.cellStyle=="function"?n.cellStyle.call(null,{rowIndex:f,columnIndex:g,row:i,column:c}):n.cellStyle||{}});return{getRowClass:l,getCellClass:r,getTableStyle:s,getBodyStyle:d,getRowStyle:u,getExtraCellStyle:o,getCellStyle:a}}const ot={class:"f-scroll-table__head"},at=["onClick"],it={key:1},Y=t.defineComponent({name:"index",props:{name:{default:""},data:{default:()=>[]},columns:{default:()=>[]},border:{type:Boolean,default:!0},stripe:{type:Boolean,default:!0},wrap:{type:Boolean,default:!0},align:{default:"center"},cellStyle:null,maxHeight:{default:"auto"},mode:{default:"single"},pageSize:{default:5},togglePage:{default:1},toggleDur:{default:5*1e3},emptyEmitDur:{default:10*1e3},emitCondition:{default:2},pageAnimateDur:{default:300},mouseEvent:{type:Boolean,default:!0}},emits:["handle-toggle","cell-click"],setup(e,{expose:n}){const l=e,r=t.reactive({tableData:[],currData:[],pageData:[],currPage:1,toggleCount:0,intervalId:null,setTimeoutId:null,isStopToggle:!1,isEmpty:!1}),s=t.getCurrentInstance(),d=t.ref(),{deepCloneArr:u,setCurrData:o,setPageInterval:a,setEmptyTimeout:i,clearTimer:c,setPage:f}=lt(r,l,s),{handleCellClick:g}=se(s),{getRowClass:m,getCellClass:h,getTableStyle:p,getBodyStyle:y,getRowStyle:S,getExtraCellStyle:P,getCellStyle:ce}=rt(r,l),b=$=>{$.style.opacity="0",$.style.gridTemplateRows="0fr"},x=($,M)=>{$.offsetWidth,$.style.opacity="1",$.style.gridTemplateRows="1fr",M()},k=async $=>{$.style.opacity="1"},O=async($,M)=>{$.style.opacity="0",$.style.gridTemplateRows="0fr",await new Promise(_=>{setTimeout(()=>{$.remove(),_(!0)},l.pageAnimateDur)}),M()};return t.watch(()=>l.data,$=>{r.tableData=u($),o()},{immediate:!0,deep:!0}),t.onMounted(()=>{l.mouseEvent&&(d.value.addEventListener("mouseenter",()=>{c(!0,!0),r.isStopToggle=!0}),d.value.addEventListener("mouseleave",()=>{r.isStopToggle=!1,r.tableData.length?a():i()}))}),t.onBeforeUnmount(()=>{c()}),n({setPage:f}),($,M)=>(t.openBlock(),t.createElementBlock("div",{ref:"scrollTable",class:t.normalizeClass(["f-scroll-table2",{"is-border":l.border}]),style:t.normalizeStyle(t.unref(p)(l.columns))},[t.createElementVNode("div",ot,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.columns,(_,E)=>(t.openBlock(),t.createElementBlock("div",{class:"f-scroll-table__cell",style:t.normalizeStyle(t.unref(P)(_)),key:E},t.toDisplayString(_.label),5))),128))]),t.createElementVNode("div",{ref_key:"scrollTable__body",ref:d,class:"f-scroll-table__content is-hidden-scrollbar",style:t.normalizeStyle(t.unref(y))},[t.createVNode(t.TransitionGroup,{tag:"div",css:!1,onBeforeEnter:b,onEnter:x,onBeforeLeave:k,onLeave:O},{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.currData,(_,E)=>(t.openBlock(),t.createElementBlock("div",{class:"f-scroll-table__row-wrap",key:_},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(m)(_,E))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.columns,(C,J)=>(t.openBlock(),t.createElementBlock("div",{class:"f-scroll-table__cell",style:t.normalizeStyle([t.unref(P)(C),t.unref(ce)(_,C.type==="index"?"_index_":C.prop,E,J)]),key:`${_[C.prop]}${J}`,onClick:dt=>t.unref(g)(dt,_,_[C.prop],E,J)},[C.type==="index"?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(t.unref(h))},t.toDisplayString(_._index_||""),3)):C.type==="scroll"?(t.openBlock(),t.createElementBlock("div",it,[t.createVNode(t.unref(R),t.normalizeProps(t.guardReactiveProps(C.scrollOption)),{default:t.withCtx(()=>[t.createElementVNode("div",null,t.toDisplayString(_[C.prop]),1)]),_:2},1040)])):C.slot?(t.openBlock(),t.createElementBlock("div",{key:2,class:t.normalizeClass(t.unref(h))},[t.renderSlot($.$slots,C.slot,{params:{row:_,column:C.prop,$index:E}})],2)):(t.openBlock(),t.createElementBlock("div",{key:3,class:t.normalizeClass(t.unref(h))},t.toDisplayString(_[C.prop]),3))],12,at))),128))],2)]))),128))]),_:3})],4)],6))}}),ht="";Y.install=function(e){e.component("FScrollTable2",Y)};const st=[ue,Be,Pe,Ee,ze,Re,Xe,je,{title:"scrollTable2 滚动表格",category:"数据展示",status:"20%",install(e){e.use(Y)}},ve,nt],ct={version:"1.0.12",install(e){st.forEach(n=>e.use(n))}};w.BorderBox1=N,w.BorderBox2=z,w.DynamicParticle=F,w.Icon=D,w.Loading1=V,w.Loading2=A,w.Progress=L,w.ScreenContainer=H,w.ScrollTable=X,w.ScrollTable2=Y,w.ScrollText=R,w.default=ct,Object.defineProperties(w,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
