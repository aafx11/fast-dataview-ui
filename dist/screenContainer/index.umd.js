(function(h,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],r):(h=typeof globalThis<"u"?globalThis:h||self,r(h.index=h.index||{},h.Vue))})(this,function(h,r){"use strict";const T={width:{type:Number,default:1920},height:{type:Number,default:1080},onAfterResize:{type:Function,default:()=>{}}};function E(e,i){const t=new MutationObserver(i);return t.observe(e,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),t}var I;const C=typeof window<"u",H=e=>typeof e=="string",w=()=>{};C&&((I=window==null?void 0:window.navigator)!=null&&I.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function m(e){return typeof e=="function"?e():r.unref(e)}function S(e,i){function t(...n){return new Promise((s,o)=>{Promise.resolve(e(()=>i.apply(this,n),{fn:i,thisArg:this,args:n})).then(s).catch(o)})}return t}function A(e,i={}){let t,n,s=w;const o=u=>{clearTimeout(u),s(),s=w};return u=>{const d=m(e),l=m(i.maxWait);return t&&o(t),d<=0||l!==void 0&&l<=0?(n&&(o(n),n=null),Promise.resolve(u())):new Promise((a,c)=>{s=i.rejectOnCancel?c:a,l&&!n&&(n=setTimeout(()=>{t&&o(t),n=null,a(u())},l)),t=setTimeout(()=>{n&&o(n),n=null,a(u())},d)})}}function z(e){return e}function F(e){return r.getCurrentScope()?(r.onScopeDispose(e),!0):!1}function N(e,i=200,t={}){return S(A(i,t),e)}function Q(e){var i;const t=m(e);return(i=t==null?void 0:t.$el)!=null?i:t}const $=C?window:void 0;function B(...e){let i,t,n,s;if(H(e[0])||Array.isArray(e[0])?([t,n,s]=e,i=$):[i,t,n,s]=e,!i)return w;Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);const o=[],p=()=>{o.forEach(a=>a()),o.length=0},u=(a,c,f)=>(a.addEventListener(c,f,s),()=>a.removeEventListener(c,f,s)),d=r.watch(()=>Q(i),a=>{p(),a&&o.push(...t.flatMap(c=>n.map(f=>u(a,c,f))))},{immediate:!0,flush:"post"}),l=()=>{d(),p()};return F(l),l}const _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},v="__vueuse_ssr_handlers__";_[v]=_[v]||{},_[v];var x;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(x||(x={}));var j=Object.defineProperty,P=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,R=(e,i,t)=>i in e?j(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,L=(e,i)=>{for(var t in i||(i={}))k.call(i,t)&&R(e,t,i[t]);if(P)for(var t of P(i))D.call(i,t)&&R(e,t,i[t]);return e};L({linear:z},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const M=(e,i,t)=>{const n=r.ref(0),s=r.ref(0),o=r.ref(0),p=r.ref(0);let u,d=null,l=null;const a=(b=!0)=>new Promise(y=>{r.nextTick(()=>{l=e.value,n.value=e.value?e.value.clientWidth:0,s.value=e.value?e.value.clientHeight:0,o.value=l?l.getBoundingClientRect().width:0,p.value=l?l.getBoundingClientRect().height:0,e.value?(!n.value||!s.value)&&console.warn("Component width or height is 0px"):console.warn("Failed to get dom node"),typeof i=="function"&&b&&i(),y(!0)})}),c=()=>{d=E(l,u),B(window,"resize",u)},f=()=>{d&&(d.disconnect(),d.takeRecords(),d=null)},O=async()=>{await a(!1),u=N(a,200),c(),typeof t=="function"&&t()};return r.onMounted(()=>{O()}),r.onUnmounted(()=>{f()}),{width:n,height:s,afterWidth:o,afterHeight:p,initWH:a}},U={class:"f-screen-container"},g=r.defineComponent({name:"index",props:T,setup(e){const i=e,t=r.ref(null),n=r.reactive({width:0,height:0,screenWidth:0,screenHeight:0,scaleX:1,scaleY:1,isReady:!1});let s=r.ref(1),o=r.ref(1);r.provide("scaleX",s),r.provide("scaleY",o);const p=()=>{i.width&&i.height?(n.width=i.width,n.height=i.height):(n.width=t.value.clientWidth,n.height=t.value.clientHeight);const{width:c,height:f}=window.screen;n.screenWidth=c,n.screenHeight=f},u=()=>{n.width&&n.height?(t.value.style.width=`${n.width}px`,t.value.style.height=`${n.height}px`):(t.value.style.width=`${n.screenWidth}px`,t.value.style.height=`${n.screenHeight}px`)},d=()=>{const c=document.body.clientWidth,f=document.body.clientHeight,O=n.width||n.screenWidth,b=n.height||n.screenHeight,y=c/+O,W=f/+b;s.value=y,o.value=W,t.value.style.transform=`scale(${y}, ${W})`};return M(t,()=>{p(),u(),d()},()=>{u(),d(),i.onAfterResize(),n.isReady=!0}),(c,f)=>(r.openBlock(),r.createElementBlock("div",U,[r.createElementVNode("div",{class:"f-screen-inner",ref_key:"screenContainer",ref:t},[r.renderSlot(c.$slots,"default")],512)]))}}),Y="";g.install=function(e){e.component("FScreenContainer",g)};const V={title:"container 容器",category:"容器",status:"20%",install(e){e.use(g)}};h.ScreenContainer=g,h.default=V,Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
